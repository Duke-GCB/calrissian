Test [1/378] cl_basic_generation: General test of command line generation

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp89t8z5bf --quiet tests/bwa-mem-tool.cwl tests/bwa-mem-job.json
Test [2/378] nested_prefixes_arrays: Test nested prefixes with arrays

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1bw9gv8j --quiet tests/binding-test.cwl tests/bwa-mem-job.json
Test [3/378] nested_cl_bindings: Test nested command line bindings

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpm7sdd1fi --quiet tests/tmap-tool.cwl tests/tmap-job.json
Test [4/378] cl_optional_inputs_missing: Test command line with optional input (missing)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp90f6bi07 --quiet tests/cat1-testcli.cwl tests/cat-job.json
Test [5/378] cl_optional_bindings_provided: Test command line with optional input (provided)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpu3jako7u --quiet tests/cat1-testcli.cwl tests/cat-n-job.json
Test [6/378] initworkdir_expreng_requirements: Test InitialWorkDirRequirement ExpressionEngineRequirement.engineConfig feature

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbnwztqai --quiet tests/template-tool.cwl tests/cat-job.json
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:       exports = module.exports = _;
tests/template-tool.cwl:7:9: JSHINT:       ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'exports' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:     exports._ = _;
tests/template-tool.cwl:7:9: JSHINT:     ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'exports' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:     if (typeof module !== 'undefined' && module.exports) {
tests/template-tool.cwl:7:9: JSHINT:                                          ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'module' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:       exports = module.exports = _;
tests/template-tool.cwl:7:9: JSHINT:                 ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'module' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:     return setTimeout(function(){
tests/template-tool.cwl:7:9: JSHINT:            ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'setTimeout' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:         timeout = setTimeout(later, remaining);
tests/template-tool.cwl:7:9: JSHINT:                   ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'setTimeout' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:         timeout = setTimeout(later, wait - last);
tests/template-tool.cwl:7:9: JSHINT:                   ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'setTimeout' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:       if (!timeout) timeout = setTimeout(later, wait);
tests/template-tool.cwl:7:9: JSHINT:                               ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'setTimeout' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:         clearTimeout(timeout);
tests/template-tool.cwl:7:9: JSHINT:         ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'clearTimeout' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:     root._ = previousUnderscore;
tests/template-tool.cwl:7:9: JSHINT:              ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'previousUnderscore' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:   if (typeof define === 'function' && define.amd) {
tests/template-tool.cwl:7:9: JSHINT:                                       ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'define' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:     define('underscore', [], function() {
tests/template-tool.cwl:7:9: JSHINT:     ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'define' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:8:9: JSHINT: var t = function(s) { return _.template(s, {variable: 'data'})({'inputs': inputs}); };
tests/template-tool.cwl:8:9: JSHINT:                              ^
tests/template-tool.cwl:8:9: JSHINT: W117: '_' is not defined.[0m
Test [7/378] stdout_redirect_docker: Test command execution in Docker with stdout redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxcudcfns --quiet tests/cat3-tool.cwl tests/cat-job.json
Test [8/378] stdout_redirect_shortcut_docker: Test command execution in Docker with shortcut stdout redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpvh6gv4gu --quiet tests/cat3-tool-shortcut.cwl tests/cat-job.json
Test [9/378] stdout_redirect_mediumcut_docker: Test command execution in Docker with mediumcut stdout redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpatfz0k4p --quiet tests/cat3-tool-mediumcut.cwl tests/cat-job.json
Test [10/378] stderr_redirect: Test command line with stderr redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzbr6wm8b --quiet tests/stderr.cwl tests/empty.json
Test [11/378] stderr_redirect_shortcut: Test command line with stderr redirection, brief syntax

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp2pxw2dzy --quiet tests/stderr-shortcut.cwl tests/empty.json
Test [12/378] stderr_redirect_mediumcut: Test command line with stderr redirection, named brief syntax

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4llge3c5 --quiet tests/stderr-mediumcut.cwl tests/empty.json
Test [13/378] stdinout_redirect_docker: Test command execution in Docker with stdin and stdout redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0n32olk7 --quiet tests/cat4-tool.cwl tests/cat-job.json
Test [14/378] expression_any: Test default usage of Any in expressions.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0hsls_3z --quiet tests/null-expression1-tool.cwl tests/empty.json
Test [15/378] expression_any_null: Test explicitly passing null to Any type inputs with default values.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpkhhp9f6m --quiet tests/null-expression1-tool.cwl tests/null-expression1-job.json
Test [16/378] expression_any_string: Testing the string 'null' does not trip up an Any with a default value.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5mmpzl_c --quiet tests/null-expression1-tool.cwl tests/null-expression2-job.json
Test [17/378] expression_any_nodefaultany: Test Any without defaults cannot be unspecified.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp30ij6yfp --quiet tests/null-expression2-tool.cwl tests/empty.json
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Invalid job input record:
tests/null-expression2-tool.cwl:9:3: Missing required input parameter 'i1'[0m
Test [18/378] expression_any_null_nodefaultany: Test explicitly passing null to Any type without a default value.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptxpqczgl --quiet tests/null-expression2-tool.cwl tests/null-expression1-job.json
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Invalid job input record:
tests/null-expression2-tool.cwl:9:3: Missing required input parameter 'i1'[0m
Test [19/378] expression_any_nullstring_nodefaultany: Testing the string 'null' does not trip up an Any without a default value.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1x2vxuz5 --quiet tests/null-expression2-tool.cwl tests/null-expression2-job.json
Test [20/378] any_outputSource_compatibility: Testing Any type compatibility in outputSource

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpurbqug_3 --quiet tests/any-type-compat.cwl tests/any-type-job.json
Test [21/378] stdinout_redirect: Test command execution in with stdin and stdout redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpflcq3kf2 --quiet tests/cat-tool.cwl tests/cat-job.json
Test [22/378] expression_parseint: Test ExpressionTool with Javascript engine

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpoa_sae6x --quiet tests/parseInt-tool.cwl tests/parseInt-job.json
Test [23/378] expression_outputEval: Test outputEval to transform output

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfbvz6tdl --quiet tests/wc2-tool.cwl tests/wc-job.json
Test [24/378] wf_wc_parseInt: Test two step workflow with imported tools

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgbd2siis --quiet tests/count-lines1-wf.cwl tests/wc-job.json
Test [25/378] wf_wc_expressiontool: Test two step workflow with inline tools

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpnq7g6pom --quiet tests/count-lines2-wf.cwl tests/wc-job.json
Test [26/378] wf_wc_scatter: Test single step workflow with Scatter step

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp2ttxpan3 --quiet tests/count-lines3-wf.cwl tests/count-lines3-job.json
Test [27/378] wf_wc_scatter_multiple_merge: Test single step workflow with Scatter step and two data links connected to same input, default merge behavior

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzid42yvk --quiet tests/count-lines4-wf.cwl tests/count-lines4-job.json
Test [28/378] wf_wc_scatter_multiple_nested: Test single step workflow with Scatter step and two data links connected to same input, nested merge behavior

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_dr864uz --quiet tests/count-lines6-wf.cwl tests/count-lines6-job.json
Test [29/378] wf_wc_scatter_multiple_flattened: Test single step workflow with Scatter step and two data links connected to same input, flattened merge behavior

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpae_bvxwu --quiet tests/count-lines7-wf.cwl tests/count-lines6-job.json
Test [30/378] wf_wc_nomultiple: Test when step source is a single-item list and there is no linkMerge, then it not wrapped in a list, and that MultipleInputFeatureRequirement is not required.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppk4ru2vf --quiet tests/count-lines13-wf.cwl tests/count-lines4-job.json
Test [31/378] wf_wc_nomultiple_merge_nested: Test when step source is a single-item list and linkMerge is listed, then it is wrapped in a list.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp49agq6il --quiet tests/count-lines19-wf.cwl tests/count-lines4-job.json
Test [32/378] wf_input_default_missing: Test workflow with default value for input parameter (missing)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpt7raeua4 --quiet tests/count-lines5-wf.cwl tests/empty.json
Test [33/378] wf_input_default_provided: Test workflow with default value for input parameter (provided)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpd5ct0bw3 --quiet tests/count-lines5-wf.cwl tests/wc-job.json
Test [34/378] wf_default_tool_default: Test that workflow defaults override tool defaults

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphpdyq9kp --quiet tests/echo-wf-default.cwl tests/empty.json
Test [35/378] envvar_req: Test EnvVarRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpp0p4tizi --quiet tests/env-tool1.cwl tests/env-job.json
Test [36/378] wf_scatter_single_param: Test workflow scatter with single scatter parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpchpniglv --quiet tests/scatter-wf1.cwl tests/scatter-job1.json
Test [37/378] wf_scatter_two_nested_crossproduct: Test workflow scatter with two scatter parameters and nested_crossproduct join method

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpe1kb9783 --quiet tests/scatter-wf2.cwl tests/scatter-job2.json
Test [38/378] wf_scatter_two_flat_crossproduct: Test workflow scatter with two scatter parameters and flat_crossproduct join method

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmprrcxwzuo --quiet tests/scatter-wf3.cwl#main tests/scatter-job2.json
Test [39/378] wf_scatter_two_dotproduct: Test workflow scatter with two scatter parameters and dotproduct join method

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpyhq9q0ja --quiet tests/scatter-wf4.cwl#main tests/scatter-job2.json
Test [40/378] wf_scatter_emptylist: Test workflow scatter with single empty list parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpeg8jye2f --quiet tests/scatter-wf1.cwl tests/scatter-empty-job1.json
[1;30mWARNING[0m [33m[job step step1] Notice: scattering over empty input in 'echo_in'.  All outputs will be empty.[0m
Test [41/378] wf_scatter_nested_crossproduct_secondempty: Test workflow scatter with two scatter parameters and nested_crossproduct join method with second list empty

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpg62i80rs --quiet tests/scatter-wf2.cwl tests/scatter-empty-job2.json
[1;30mWARNING[0m [33m[job step step1] Notice: scattering over empty input in 'echo_in2'.  All outputs will be empty.[0m
Test [42/378] wf_scatter_nested_crossproduct_firstempty: Test workflow scatter with two scatter parameters and nested_crossproduct join method with first list empty

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpv5axtmv8 --quiet tests/scatter-wf3.cwl#main tests/scatter-empty-job3.json
[1;30mWARNING[0m [33m[job step step1] Notice: scattering over empty input in 'echo_in1'.  All outputs will be empty.[0m
Test [43/378] wf_scatter_flat_crossproduct_oneempty: Test workflow scatter with two scatter parameters, one of which is empty and flat_crossproduct join method

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4c58_jo8 --quiet tests/scatter-wf3.cwl#main tests/scatter-empty-job2.json
[1;30mWARNING[0m [33m[job step step1] Notice: scattering over empty input in 'echo_in2'.  All outputs will be empty.[0m
Test [44/378] wf_scatter_dotproduct_twoempty: Test workflow scatter with two empty scatter parameters and dotproduct join method

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxfm8wuux --quiet tests/scatter-wf4.cwl#main tests/scatter-empty-job4.json
[1;30mWARNING[0m [33m[job step step1] Notice: scattering over empty input in 'echo_in1', 'echo_in2'.  All outputs will be empty.[0m
Test [45/378] any_input_param: Test Any type input parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp07ayqqi7 --quiet tests/echo-tool.cwl tests/env-job.json
Test [46/378] nested_workflow: Test nested workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpm7hyov7i --quiet tests/count-lines8-wf.cwl tests/wc-job.json
Test [47/378] requirement_priority: Test requirement priority

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpj69x_zoq --quiet tests/env-wf1.cwl tests/env-job.json
Test [48/378] requirement_override_hints: Test requirements override hints

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbzlvwx55 --quiet tests/env-wf2.cwl tests/env-job.json
Test [49/378] requirement_workflow_steps: Test requirements on workflow steps

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptxiek29w --quiet tests/env-wf3.cwl tests/env-job.json
Test [50/378] step_input_default_value: Test default value on step input parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmplbwnf6po --quiet tests/count-lines9-wf.cwl tests/empty.json
Test [51/378] step_input_default_value_nosource: Test use default value on step input parameter with empty source

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpohw8dhpd --quiet tests/count-lines11-wf.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-wf.cwl:6:3:  Source 'file1' of type ["null", "File"] may be incompatible
tests/count-lines11-wf.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [52/378] step_input_default_value_nullsource: Test use default value on step input parameter with null source

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpywhrmkjz --quiet tests/count-lines11-wf.cwl tests/file1-null.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-wf.cwl:6:3:  Source 'file1' of type ["null", "File"] may be incompatible
tests/count-lines11-wf.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [53/378] step_input_default_value_overriden: Test default value on step input parameter overridden by provided source

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpvunefxx8 --quiet tests/count-lines11-wf.cwl tests/cat-job.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-wf.cwl:6:3:  Source 'file1' of type ["null", "File"] may be incompatible
tests/count-lines11-wf.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [54/378] wf_simple: Test simple workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpmpg4amp3 --quiet tests/revsort.cwl tests/revsort-job.json
Test [55/378] hints_unknown_ignored: Test unknown hints are ignored.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbd23hr3y --quiet tests/cat5-tool.cwl tests/cat-job.json
tests/cat5-tool.cwl:10:3: Warning: checking item
                          Warning:   Field 'class' contains undefined reference to
                          'http://example.com/BlibberBlubberFakeRequirement'
Test [56/378] initial_workdir_secondary_files_expr: Test InitialWorkDirRequirement linking input files and capturing secondaryFiles on input and output. Also tests the use of a variety of parameter references and expressions in the secondaryFiles field.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpt2xecbu7 --quiet tests/search.cwl#main tests/search-job.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/search.cwl:103:13: Source 'result' of type "File" may be incompatible
tests/search.cwl:108:9:    with sink 'file' of type "File"[0m
Test [57/378] rename: Test InitialWorkDirRequirement with expression in filename.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbzhgf1s0 --quiet tests/rename.cwl tests/rename-job.json
Test [58/378] initial_workdir_trailingnl: Test if trailing newline is present in file entry in InitialWorkDir

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1nahykl0 --quiet tests/iwdr-entry.cwl tests/string-job.json
Test [59/378] inline_expressions: Test inline expressions

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6yk4i2nq --quiet tests/wc4-tool.cwl tests/wc-job.json
Test [60/378] schemadef_req_tool_param: Test SchemaDefRequirement definition used in tool parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpz3llzs4p --quiet tests/schemadef-tool.cwl tests/schemadef-job.json
Test [61/378] schemadef_req_wf_param: Test SchemaDefRequirement definition used in workflow parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmprzg0zugi --quiet tests/schemadef-wf.cwl tests/schemadef-job.json
Test [62/378] param_evaluation_noexpr: Test parameter evaluation, no support for JS expressions

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6pip8oex --quiet tests/params.cwl tests/empty.json
Test [63/378] param_evaluation_expr: Test parameter evaluation, with support for JS expressions

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp36haptze --quiet tests/params2.cwl tests/empty.json
Test [64/378] metadata: Test metadata

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpmyawvo6q --quiet tests/metadata.cwl tests/cat-job.json
Test [65/378] format_checking: Test simple format checking.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpy7xu7ea7 --quiet tests/formattest.cwl tests/formattest-job.json
Test [66/378] format_checking_subclass: Test format checking against ontology using subclassOf.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp8pa7h9tm --quiet tests/formattest2.cwl tests/formattest2-job.json
Test [67/378] format_checking_equivalentclass: Test format checking against ontology using equivalentClass.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgtb_xq22 --quiet tests/formattest3.cwl tests/formattest2-job.json
Test [68/378] output_secondaryfile_optional: Test optional output file and optional secondaryFile on output.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpdmqsqmgf --quiet tests/optional-output.cwl tests/cat-job.json
Test [69/378] valuefrom_ignored_null: Test that valueFrom is ignored when the parameter is null

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpty8syxv0 --quiet tests/vf-concat.cwl tests/empty.json
Test [70/378] valuefrom_secondexpr_ignored: Test that second expression in concatenated valueFrom is not ignored

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpwonjaz5z --quiet tests/vf-concat.cwl tests/cat-job.json
Test [71/378] valuefrom_wf_step: Test valueFrom on workflow step.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpri80546z --quiet tests/step-valuefrom-wf.cwl tests/step-valuefrom-wf.json
Test [72/378] valuefrom_wf_step_multiple: Test valueFrom on workflow step with multiple sources

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp7fc8qcf5 --quiet tests/step-valuefrom2-wf.cwl tests/step-valuefrom-job.json
Test [73/378] valuefrom_wf_step_other: Test valueFrom on workflow step referencing other inputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpt7nwgq97 --quiet tests/step-valuefrom3-wf.cwl tests/step-valuefrom-job.json
Test [74/378] record_output_binding: Test record type output binding.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpv13hyi3e --quiet tests/record-output.cwl tests/record-output-job.json
Test [75/378] docker_json_output_path: Test support for reading cwl.output.json when running in a Docker container and just 'path' is provided.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpyb4hlrl1 --quiet tests/test-cwl-out.cwl tests/empty.json
Test [76/378] docker_json_output_location: Test support for reading cwl.output.json when running in a Docker container and just 'location' is provided.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbuxwbzkj --quiet tests/test-cwl-out2.cwl tests/empty.json
Test [77/378] json_output_path_relative: Test support for reading cwl.output.json where 'path' is relative path in output dir.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxz3xp5a9 --quiet tests/test-cwl-out3.cwl tests/empty.json
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Output file path foo must be within designated output directory (/EsOkfl) or an input file pass through.[0m
Test 77 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxz3xp5a9 --quiet tests/test-cwl-out3.cwl tests/empty.json
Test support for reading cwl.output.json where 'path' is relative path in output dir.
Returned non-zero
Test [78/378] json_output_location_relative: Test support for reading cwl.output.json where 'location' is relative reference to output dir.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpquhx4ozf --quiet tests/test-cwl-out4.cwl tests/empty.json
[1;30mERROR[0m [31mInput object failed validation:
[Errno 2] No such file or directory: 'foo'[0m
Test 78 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpquhx4ozf --quiet tests/test-cwl-out4.cwl tests/empty.json
Test support for reading cwl.output.json where 'location' is relative reference to output dir.
Returned non-zero
Test [79/378] multiple_glob_expr_list: Test support for returning multiple glob patterns from expression

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp41skbtsl --quiet tests/glob-expr-list.cwl tests/abc.json
Test [80/378] wf_scatter_oneparam_valuefrom: Test workflow scatter with single scatter parameter and two valueFrom on step input (first and current el)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpi0mcvty2 --quiet tests/scatter-valuefrom-wf1.cwl tests/scatter-valuefrom-job1.json
Test [81/378] wf_scatter_twoparam_nested_crossproduct_valuefrom: Test workflow scatter with two scatter parameters and nested_crossproduct join method and valueFrom on step input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpm6uyz91e --quiet tests/scatter-valuefrom-wf2.cwl tests/scatter-valuefrom-job2.json
Test [82/378] wf_scatter_twoparam_flat_crossproduct_valuefrom: Test workflow scatter with two scatter parameters and flat_crossproduct join method and valueFrom on step input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp60erw28f --quiet tests/scatter-valuefrom-wf3.cwl#main tests/scatter-valuefrom-job2.json
Test [83/378] wf_scatter_twoparam_dotproduct_valuefrom: Test workflow scatter with two scatter parameters and dotproduct join method and valueFrom on step input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphf9iq5eo --quiet tests/scatter-valuefrom-wf4.cwl#main tests/scatter-valuefrom-job2.json
Test [84/378] wf_scatter_oneparam_valuefrom_twice_current_el: Test workflow scatter with single scatter parameter and two valueFrom on step input (current el twice)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpcta7zbcw --quiet tests/scatter-valuefrom-wf5.cwl tests/scatter-valuefrom-job1.json
Test [85/378] wf_scatter_oneparam_valueFrom: Test valueFrom eval on scattered input parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpv9d6qbnr --quiet tests/scatter-valuefrom-wf6.cwl tests/scatter-valuefrom-job3.json
Test [86/378] wf_two_inputfiles_namecollision: Test workflow two input files with same name.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpc2cdl6b5 --quiet tests/conflict-wf.cwl#collision tests/conflict-job.json
Test [87/378] directory_input_param_ref: Test directory input with parameter reference

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp04mm58q9 --quiet tests/dir.cwl tests/dir-job.yml
Test [88/378] directory_input_docker: Test directory input in Docker

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpmfwe575b --quiet tests/dir2.cwl tests/dir-job.yml
Test [89/378] directory_output: Test directory output

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpoacb0jqv --quiet tests/dir3.cwl tests/dir3-job.yml
Test [90/378] directory_secondaryfiles: Test directories in secondaryFiles

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp7pc8okdt --quiet tests/dir4.cwl tests/dir4-job.yml
Test [91/378] dynamic_initial_workdir: Test dynamic initial work dir

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpakb7rbes --quiet tests/dir5.cwl tests/dir-job.yml
Test [92/378] writable_stagedfiles: Test writable staged files.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpw_zuvqxy --quiet tests/stagefile.cwl tests/stagefile-job.yml
Test [93/378] input_file_literal: Test file literal as input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpa1j4qszw --quiet tests/cat3-tool.cwl tests/file-literal.yml
Test [94/378] initial_workdir_expr: Test expression in InitialWorkDir listing

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptc1mk7pn --quiet tests/linkfile.cwl tests/arguments-job.yml
Test [95/378] nameroot_nameext_stdout_expr: Test nameroot/nameext expression in arguments, stdout

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpv5qaknz8 --quiet tests/nameroot.cwl tests/wc-job.json
Test [96/378] input_dir_inputbinding: Test directory input with inputBinding

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp8fq1c6pz --quiet tests/dir6.cwl tests/dir-job.yml
Test [97/378] cl_gen_arrayofarrays: Test command line generation of array-of-arrays

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0_vdtu04 --quiet tests/nested-array.cwl tests/nested-array-job.yml
Test [98/378] env_home_tmpdir: Test $HOME and $TMPDIR are set correctly

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_xarpddj --quiet tests/envvar.cwl tests/empty.json
Test [99/378] env_home_tmpdir_docker: Test $HOME and $TMPDIR are set correctly in Docker

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp52ilf__v --quiet tests/envvar2.cwl tests/empty.json
Test [100/378] expressionlib_tool_wf_override: Test that expressionLib requirement of individual tool step overrides expressionLib of workflow.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpnf5auqiz --quiet tests/js-expr-req-wf.cwl#wf tests/empty.json
Test [101/378] initial_workdir_output: Test output of InitialWorkDir

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfesqq3eg --quiet tests/initialworkdirrequirement-docker-out.cwl tests/initialworkdirrequirement-docker-out-job.json
Test [102/378] embedded_subworkflow: Test embedded subworkflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp758p357r --quiet tests/count-lines10-wf.cwl tests/wc-job.json
Test [103/378] filesarray_secondaryfiles: Test required, optional and null secondaryFiles on array of files.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6ie8f7w4 --quiet tests/docker-array-secondaryfiles.cwl tests/docker-array-secondaryfiles-job.json
Test [104/378] filesarray_secondaryfiles2: Test required, optional and null secondaryFiles on array of files.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpn_ul21uw --quiet tests/docker-array-secondaryfiles.cwl tests/docker-array-secondaryfiles-job2.json
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Missing required secondary file '.dat' from file object: {
    "class": "File",
    "location": "file:///conformance/cwl-v1.2-1.2.1_proposed/tests/ref.fasta",
    "size": 12010,
    "basename": "ref.fasta",
    "nameroot": "ref",
    "nameext": ".fasta",
    "secondaryFiles": [
        {
            "location": "file:///conformance/cwl-v1.2-1.2.1_proposed/tests/ref.fasta.fai",
            "basename": "ref.fasta.fai",
            "class": "File"
        }
    ]
}[0m
Test [105/378] exprtool_directory_literal: Test directory literal output created by ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpsbmosnqr --quiet tests/dir7.cwl tests/dir7.yml
Test [106/378] exprtool_file_literal: Test file literal output created by ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxsrho4wd --quiet tests/file-literal-ex.cwl tests/empty.json
Test [107/378] dockeroutputdir: Test dockerOutputDirectory

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp7oev24sf --quiet tests/docker-output-dir.cwl tests/empty.json
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow or tool uses unsupported feature:
Error: feature DockerRequirement.dockerOutputDirectory is not supported[0m
Test [108/378] hints_import: Test hints with $import

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpdp4v8ejx --quiet tests/imported-hint.cwl tests/empty.json
Test [109/378] default_path_notfound_warning: Test warning instead of error when default path is not found

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpwcuxqf2f --quiet tests/default_path.cwl tests/default_path_job.yml
Test [110/378] inlinejs_req_expressions: Test InlineJavascriptRequirement with multiple expressions in the same tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgvnszq0b --quiet tests/inline-js.cwl tests/empty.json
Test [111/378] input_dir_recurs_copy_writable: Test if a writable input directory is recursively copied and writable

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpkvg5xvux --quiet tests/recursive-input-directory.cwl tests/recursive-input-directory.yml
Test [112/378] null_missing_params: Test that missing parameters are null (not undefined) in expression

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5ak1i3z7 --quiet tests/null-defined.cwl tests/empty.json
Test [113/378] param_notnull_expr: Test that provided parameter is not null in expression

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpryg9kah_ --quiet tests/null-defined.cwl tests/cat-job.json
Test [114/378] wf_compound_doc: Test compound workflow document

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxjf9_dtd --quiet tests/revsort-packed.cwl#main tests/revsort-job.json
Test [115/378] nameroot_nameext_generated: Test that nameroot and nameext are generated from basename at execution time by the runner

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpqxedr1et --quiet tests/basename-fields-test.cwl tests/basename-fields-job.yml
Test [116/378] initialworkpath_output: Test that file path in $(inputs) for initialworkdir is in $(outdir).

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpziubmz7q --quiet tests/initialwork-path.cwl tests/wc-job.json
Test [117/378] wf_scatter_twopar_oneinput_flattenedmerge: Test single step workflow with Scatter step and two data links connected to same input, flattened merge behavior. Workflow inputs are set as list

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpocji4bqo --quiet tests/count-lines12-wf.cwl tests/count-lines6-job.json
Test [118/378] wf_multiplesources_multipletypes: Test step input with multiple sources with multiple types

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp8l64fng_ --quiet tests/sum-wf.cwl tests/sum-job.json
Test [119/378] shelldir_notinterpreted: Test that shell directives are not interpreted.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6lvawqtk --quiet tests/shellchar.cwl tests/empty.json
Test [120/378] shelldir_quoted: Test that shell directives are quoted.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpphx4pgr3 --quiet tests/shellchar2.cwl tests/empty.json
Test [121/378] initial_workdir_empty_writable: Test empty writable dir with InitialWorkDirRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppj0587ho --quiet tests/writable-dir.cwl tests/empty.json
Test [122/378] initial_workdir_empty_writable_docker: Test empty writable dir with InitialWorkDirRequirement inside Docker

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpmr1civ4v --quiet tests/writable-dir-docker.cwl tests/empty.json
Test [123/378] dynamic_resreq_inputs: Test dynamic resource reqs referencing inputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp2vz8ias_ --quiet tests/dynresreq.cwl tests/dynresreq-job.yaml
Test [124/378] fileliteral_input_docker: Test file literal as input without Docker

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpvuvqre12 --quiet tests/cat3-nodocker.cwl tests/file-literal.yml
Test [125/378] outputbinding_glob_sorted: Test that OutputBinding.glob is sorted as specified by POSIX

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmplsundyo9 --quiet tests/glob_test.cwl tests/empty.json
Test [126/378] initialworkdir_nesteddir: Test InitialWorkDirRequirement with a nested directory structure from another step

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppvfqbryd --quiet tests/iwdr_with_nested_dirs.cwl tests/empty.json
Test [127/378] booleanflags_cl_noinputbinding: Test that boolean flags do not appear on command line if inputBinding is empty and not null

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmph6j5x149 --quiet tests/bool-empty-inputbinding.cwl tests/bool-empty-inputbinding-job.json
Test [128/378] expr_reference_self_noinput: Test that expression engine does not fail to evaluate reference to self with unprovided input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptc1hp7n2 --quiet tests/stage-unprovided-file.cwl tests/empty.json
Test [129/378] success_codes: Test successCodes

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4vpruh9j --quiet tests/exit-success.cwl tests/empty.json
Test [130/378] dynamic_resreq_wf: Test simple workflow with a dynamic resource requirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpihlv7jpj --quiet tests/dynresreq-workflow.cwl tests/dynresreq-job.yaml
Test [131/378] cl_empty_array_input: Test that empty array input does not add anything to command line

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpre9o3tca --quiet tests/empty-array-input.cwl tests/empty-array-job.json
Test [132/378] resreq_step_overrides_wf: Test that ResourceRequirement on a step level redefines requirement on the workflow level

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpt50zz4r3 --quiet tests/steplevel-resreq.cwl tests/empty.json
Test [133/378] valuefrom_constant_overrides_inputs: Test valueFrom with constant value overriding provided array inputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp61ccujpq --quiet tests/valueFrom-constant.cwl tests/array-of-strings-job.yml
Test [134/378] dynamic_resreq_filesizes: Test dynamic resource reqs referencing the size of Files inside a Directory

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphtje0e_6 --quiet tests/dynresreq-dir.cwl tests/dynresreq-dir-job.yaml
Test [135/378] wf_step_connect_undeclared_param: Test that it is not an error to connect a parameter to a workflow step, even if the parameter doesn't appear in the `run` process inputs.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgko7oyt_ --quiet tests/pass-unconnected.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/pass-unconnected.cwl:18:7: 'in2' is not an input parameter of
                                 file:///conformance/cwl-v1.2-1.2.1_proposed/tests/echo-tool.cwl,
                                 expected in[0m
Test [136/378] wf_step_access_undeclared_param: Test that parameters that don't appear in the `run` process inputs are not present in the input object used to run the tool.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9h4f8p5s --quiet tests/fail-unconnected.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/fail-unconnected.cwl:18:7: 'in2' is not an input parameter of
                                 file:///conformance/cwl-v1.2-1.2.1_proposed/tests/fail-unspecified-input.cwl,
                                 expected in[0m
[1;30mERROR[0m [31mSyntax error in parameter reference 'inputs.in2': inputs does not contain key 'in2'. This could be due to using Javascript code without specifying InlineJavascriptRequirement.[0m
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 393, in do_eval
    return interpolate(
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 297, in interpolate
    e = evaluator(
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 243, in evaluator
    raise JavascriptException(
cwltool.sandboxjs.JavascriptException: Syntax error in parameter reference 'inputs.in2': inputs does not contain key 'in2'. This could be due to using Javascript code without specifying InlineJavascriptRequirement.
[1;30mERROR[0m [31mException on step 'step1'[0m
[1;30mERROR[0m [31m[step step1] Cannot make job: tests/fail-unspecified-input.cwl:13:33: Expression evaluation error:
tests/fail-unspecified-input.cwl:13:33: Syntax error in parameter reference 'inputs.in2': inputs does not contain key 'in2'. This could be due to using Javascript code without specifying InlineJavascriptRequirement.[0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [137/378] env_home_tmpdir_docker_no_return_code: Test $HOME and $TMPDIR are set correctly in Docker without using return code

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpwx0peuh8 --quiet tests/envvar3.cwl tests/empty.json
Test [138/378] wf_scatter_oneparam_valuefrom_inputs: Test workflow scatter with single scatter parameter and two valueFrom using $inputs (first and current el)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpi7b3h1pf --quiet tests/scatter-valuefrom-inputs-wf1.cwl tests/scatter-valuefrom-job1.json
Test [139/378] packed_import_schema: SchemaDefRequirement with $import, and packed

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpp84jvzmu --quiet tests/import_schema-def_packed.cwl tests/import_schema-def_job.yml
Test [140/378] job_input_secondary_subdirs: Test specifying secondaryFiles in subdirectories of the job input document.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpr2eoyv54 --quiet tests/dir4.cwl tests/dir4-subdir-1-job.yml
Test [141/378] job_input_subdir_primary_and_secondary_subdirs: Test specifying secondaryFiles in same subdirectory of the job input as the primary input file.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpybrv9w_2 --quiet tests/dir4.cwl tests/dir4-subdir-2-job.yml
Test [142/378] scatter_embedded_subworkflow: Test simple scatter over an embedded subworkflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmplc60udji --quiet tests/count-lines18-wf.cwl tests/count-lines3-job.json
Test [143/378] scatter_multi_input_embedded_subworkflow: Test simple multiple input scatter over an embedded subworkflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5pbh_lnj --quiet tests/count-lines14-wf.cwl tests/count-lines4-job.json
Test [144/378] workflow_embedded_subworkflow_embedded_subsubworkflow: Test twice nested subworkflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpm65edn1m --quiet tests/count-lines15-wf.cwl tests/wc-job.json
Test [145/378] workflow_embedded_subworkflow_with_tool_and_subsubworkflow: Test subworkflow of mixed depth with tool first

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpsgom8to1 --quiet tests/count-lines16-wf.cwl tests/wc-job.json
Test [146/378] workflow_embedded_subworkflow_with_subsubworkflow_and_tool: Test subworkflow of mixed depth with tool after

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpt5koyt7d --quiet tests/count-lines17-wf.cwl tests/wc-job.json
Test [147/378] workflow_records_inputs_and_outputs: Test record type inputs to and outputs from workflows.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0c6lntg7 --quiet tests/record-output-wf.cwl tests/record-output-job.json
Test [148/378] workflow_integer_input: Test integer workflow input and outputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4ea75xao --quiet tests/io-int-wf.cwl tests/io-int.json
Test [149/378] workflow_integer_input_optional_specified: Test optional integer workflow inputs (specified)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4vhctrcq --quiet tests/io-int-optional-wf.cwl tests/io-int.json
Test [150/378] workflow_integer_input_optional_unspecified: Test optional integer workflow inputs (unspecified)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpo8ds7jh4 --quiet tests/io-int-optional-wf.cwl tests/empty.json
Test [151/378] workflow_integer_input_default_specified: Test default integer workflow inputs (specified)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpj8u_w51x --quiet tests/io-int-default-wf.cwl tests/io-int.json
Test [152/378] workflow_integer_input_default_unspecified: Test default integer workflow inputs (unspecified)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp13a0puan --quiet tests/io-int-default-wf.cwl tests/empty.json
Test [153/378] workflow_integer_input_default_and_tool_integer_input_default: Test default integer tool and workflow inputs (unspecified)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzlbgqktv --quiet tests/io-int-default-tool-and-wf.cwl tests/empty.json
Test [154/378] workflow_file_input_default_unspecified: Test File input with default unspecified to workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppaz4ikya --quiet tests/io-file-default-wf.cwl tests/empty.json
Test [155/378] workflow_file_input_default_specified: Test File input with default specified to workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppv8tlrkl --quiet tests/io-file-default-wf.cwl tests/default_path_job.yml
Test [156/378] clt_optional_union_input_file_or_files_with_array_of_one_file_provided: Test input union type or File or File array to a tool with one file in array specified.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpnibr999b --quiet tests/io-file-or-files.cwl tests/job-input-array-one-empty-file.json
Test [157/378] clt_optional_union_input_file_or_files_with_many_files_provided: Test input union type or File or File array to a tool with a few files in array specified.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpa_5l5foj --quiet tests/io-file-or-files.cwl tests/job-input-array-few-files.json
Test [158/378] clt_optional_union_input_file_or_files_with_single_file_provided: Test input union type or File or File array to a tool with one file specified.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpaogluc_b --quiet tests/io-file-or-files.cwl tests/job-input-one-file.json
Test [159/378] clt_optional_union_input_file_or_files_with_nothing_provided: Test input union type or File or File array to a tool with null specified.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpvz7h1u07 --quiet tests/io-file-or-files.cwl tests/job-input-null.json
Test [160/378] clt_any_input_with_integer_provided: Test Any parameter with integer input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbfojfv0z --quiet tests/io-any-1.cwl tests/io-any-int.json
Test [161/378] clt_any_input_with_string_provided: Test Any parameter with string input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpp69m_ff9 --quiet tests/io-any-1.cwl tests/io-any-string.json
Test [162/378] clt_any_input_with_file_provided: Test Any parameter with file input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpp4hwzzhf --quiet tests/io-any-1.cwl tests/io-any-file.json
Test [163/378] clt_any_input_with_mixed_array_provided: Test Any parameter with array input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpy8vhmxqf --quiet tests/io-any-1.cwl tests/io-any-array.json
Test [164/378] clt_any_input_with_record_provided: Test Any parameter with record input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpsej67yuo --quiet tests/io-any-1.cwl tests/io-any-record.json
Test [165/378] workflow_any_input_with_integer_provided: Test Any parameter with integer input to a workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmps739butj --quiet tests/io-any-wf-1.cwl tests/io-any-int.json
Test [166/378] workflow_any_input_with_string_provided: Test Any parameter with string input to a workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp11h25xid --quiet tests/io-any-wf-1.cwl tests/io-any-string.json
Test [167/378] workflow_any_input_with_file_provided: Test Any parameter with file input to a workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgjpx0j8m --quiet tests/io-any-wf-1.cwl tests/io-any-file.json
Test [168/378] workflow_any_input_with_mixed_array_provided: Test Any parameter with array input to a workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4d3ub9ly --quiet tests/io-any-wf-1.cwl tests/io-any-array.json
Test [169/378] workflow_any_input_with_record_provided: Test Any parameter with record input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbc_jon6u --quiet tests/io-any-wf-1.cwl tests/io-any-record.json
Test [170/378] workflow_union_default_input_unspecified: Test union type input to workflow with default unspecified

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzczb2219 --quiet tests/io-union-input-default-wf.cwl tests/empty.json
Test [171/378] workflow_union_default_input_with_file_provided: Test union type input to workflow with default specified as file

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp3ybmwnkr --quiet tests/io-union-input-default-wf.cwl tests/io-any-file.json
Test [172/378] workflowstep_valuefrom_string: Test valueFrom on workflow step from literal (string).

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6d5a0n79 --quiet tests/step-valuefrom4-wf.cwl tests/empty.json
Test [173/378] workflowstep_valuefrom_file_basename: Test valueFrom on workflow step using basename.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9judlok8 --quiet tests/step-valuefrom5-wf.cwl tests/wc-job.json
Test [174/378] expression_tool_int_array_output: Test output arrays in a tool (with ints).

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9zx72aq9 --quiet tests/output-arrays-int.cwl tests/output-arrays-int-job.json
Test [175/378] workflowstep_int_array_input_output: Test output arrays in a workflow (with ints).

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1dul5sl8 --quiet tests/output-arrays-int-wf.cwl tests/output-arrays-int-job.json
Test [176/378] workflow_file_array_output: Test output arrays in a workflow (with Files).

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpd2z9wvd2 --quiet tests/output-arrays-file-wf.cwl tests/output-arrays-file-job.json
Test [177/378] docker_entrypoint: Test Docker ENTRYPOINT usage

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpr2jofeas --quiet tests/docker-run-cmd.cwl tests/empty.json
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
("Error collecting output for parameter 'cow': tests/docker-run-cmd.cwl:11:7: Did not find output
                                                                              file with glob
                                                                              pattern: '['cow']'.",
                                                                              {})[0m
Test 177 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpr2jofeas --quiet tests/docker-run-cmd.cwl tests/empty.json
Test Docker ENTRYPOINT usage
Returned non-zero
Test [178/378] clt_file_size_property_with_empty_file: Test use of size in expressions for an empty file

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpofc9j3d7 --quiet tests/size-expression-tool.cwl tests/job-input-array-one-empty-file.json
Test [179/378] clt_file_size_property_with_multi_file: Test use of size in expressions for a few files

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgdb9y0ql --quiet tests/size-expression-tool.cwl tests/job-input-array-few-files.json
Test [180/378] any_without_defaults_unspecified_fails: Test Any without defaults, unspecified, should fail.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1_s_iqv4 --quiet tests/echo-tool.cwl tests/null-expression-echo-job.json
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Invalid job input record:
tests/echo-tool.cwl:6:3: Missing required input parameter 'in'[0m
Test [181/378] any_without_defaults_specified_fails: Test Any without defaults, specified, should fail.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpqo2vooga --quiet tests/echo-tool.cwl tests/null-expression1-job.json
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Invalid job input record:
tests/echo-tool.cwl:6:3: Missing required input parameter 'in'[0m
Test [182/378] step_input_default_value_noexp: Test default value on step input parameter, no ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzq59dbys --quiet tests/count-lines9-wf-noET.cwl tests/empty.json
Test [183/378] step_input_default_value_overriden_noexp: Test default value on step input parameter overridden by provided source, no ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpopq2r87v --quiet tests/count-lines11-wf-noET.cwl tests/cat-job.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-wf-noET.cwl:6:3:  Source 'file1' of type ["null", "File"] may be incompatible
tests/count-lines11-wf-noET.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [184/378] nested_workflow_noexp: Test nested workflow, without ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpssr3mszk --quiet tests/count-lines8-wf-noET.cwl tests/wc-job.json
Test [185/378] wf_multiplesources_multipletypes_noexp: Test step input with multiple sources with multiple types, without ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpdwl7w1gy --quiet tests/sum-wf-noET.cwl tests/sum-job.json
Test [186/378] dynamic_resreq_wf_optional_file_default: Within a workflow, test accessing the size attribute of an optional input File as part of a CommandLineTool's ResourceRequirement calculation. The CommandLineTool input has a default value (a local file) and the workflow nor the workflow step does not provide any value for this input.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpkith07a5 --quiet tests/dynresreq-workflow-tooldefault.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/dynresreq-workflow-tooldefault.cwl:6:3:  Source 'special_file' of type ["null", "File"] may
                                               be incompatible
tests/dynresreq-workflow-tooldefault.cwl:15:7:   with sink 'special_file' of type "File"[0m
Test [187/378] dynamic_resreq_wf_optional_file_step_default: Within a workflow, test accessing the size attribute of an optional input File as part of a CommandLineTool's ResourceRequirement calculation. The workflow step provides a default value (a local file) for this input and the workflow itself does not provide any value for this input.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphv5ht9x7 --quiet tests/dynresreq-workflow-stepdefault.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/dynresreq-workflow-stepdefault.cwl:6:3:  Source 'special_file' of type ["null", "File"] may
                                               be incompatible
tests/dynresreq-workflow-stepdefault.cwl:15:7:   with sink 'special_file' of type "File"[0m
Test [188/378] dynamic_resreq_wf_optional_file_wf_default: Within a workflow, test accessing the size attribute of an optional input File as part of a CommandLineTool's ResourceRequirement calculation. The workflow itelf provides a default value (a local file) for this input.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp71k7ykui --quiet tests/dynresreq-workflow-inputdefault.cwl tests/empty.json
Test [189/378] step_input_default_value_overriden_2nd_step: Test default value on step input parameter overridden by provided source. With passthrough first step

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpofwj72xq --quiet tests/count-lines11-extra-step-wf.cwl tests/cat-job.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-extra-step-wf.cwl:6:3:  Source 'file1' of type ["null", "File"] may be
                                            incompatible
tests/count-lines11-extra-step-wf.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [190/378] step_input_default_value_overriden_2nd_step_noexp: Test default value on step input parameter overridden by provided source. With passthrough first step and no ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpju1766e0 --quiet tests/count-lines11-extra-step-wf-noET.cwl tests/cat-job.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-extra-step-wf-noET.cwl:6:3:  Source 'file1' of type ["null", "File"] may be
                                                 incompatible
tests/count-lines11-extra-step-wf-noET.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [191/378] step_input_default_value_overriden_2nd_step_null: Test default value on step input parameter overridden by provided source. With null producing first step

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpz7kmxp9l --quiet tests/count-lines11-null-step-wf.cwl tests/empty.json
Test [192/378] step_input_default_value_overriden_2nd_step_null_noexp: Test default value on step input parameter overridden by provided source. With null producing first step and no ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptelojkal --quiet tests/count-lines11-null-step-wf-noET.cwl tests/empty.json
Test [193/378] stdin_from_directory_literal_with_local_file: Pipe to stdin from user provided local File via a Directory literal

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpojfl6j5n --quiet tests/cat-from-dir.cwl tests/cat-from-dir-job.yaml
Test [194/378] stdin_from_directory_literal_with_literal_file: Pipe to stdin from literal File via a Directory literal

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5jcu4efo --quiet tests/cat-from-dir.cwl tests/cat-from-dir-with-literal-file.yaml
Test [195/378] directory_literal_with_literal_file_nostdin: Test non-stdin reference to literal File via a Directory literal

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpsns6yfs9 --quiet tests/cat3-from-dir.cwl tests/cat-from-dir-with-literal-file.yaml
Test [196/378] no_inputs_commandlinetool: Test CommandLineTool without inputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6jgj53on --quiet tests/no-inputs-tool.cwl
Test [197/378] no_outputs_commandlinetool: Test CommandLineTool without outputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0inhz3np --quiet tests/no-outputs-tool.cwl tests/cat-job.json
Test [198/378] no_inputs_workflow: Test Workflow without inputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptnjyzgcs --quiet tests/no-inputs-wf.cwl
Test [199/378] no_outputs_workflow: Test Workflow without outputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0rp42qmi --quiet tests/no-outputs-wf.cwl tests/cat-job.json
Test [200/378] anonymous_enum_in_array: Test an anonymous enum inside an array inside a record

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpg689zzpq --quiet tests/anon_enum_inside_array.cwl tests/anon_enum_inside_array.yml
Test [201/378] schema-def_anonymous_enum_in_array: Test an anonymous enum inside an array inside a record, SchemaDefRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpg6jfrice --quiet tests/anon_enum_inside_array_inside_schemadef.cwl tests/anon_enum_inside_array_inside_schemadef.yml
Test [202/378] stdin_shorcut: Test command execution in with stdin and stdout redirection using stdin shortcut

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzyod4w6i --quiet tests/cat-tool-shortcut.cwl tests/wc-job.json
Test [203/378] secondary_files_in_unnamed_records: Test secondaryFiles on anonymous record fields

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpo44a_oxf --quiet tests/record-in-secondaryFiles.cwl tests/record-secondaryFiles-job.yml
Test [204/378] secondary_files_in_named_records: Test secondaryFiles on SchemaDefRequirement record fields

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpieh9e4fe --quiet tests/record-sd-secondaryFiles.cwl tests/record-secondaryFiles-job.yml
Test [205/378] secondary_files_in_output_records: Test secondaryFiles on output record fields

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfx2a45vv --quiet tests/record-out-secondaryFiles.cwl tests/empty.json
Test [206/378] secondary_files_workflow_propagation: Test secondaryFiles propagation through workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpr4py0avv --quiet tests/record-in-secondaryFiles-wf.cwl tests/record-secondaryFiles-job.yml
Test [207/378] secondary_files_missing: Test checking when secondaryFiles are missing

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp3kr3zdyn --quiet tests/record-in-secondaryFiles-missing-wf.cwl tests/record-secondaryFiles-job.yml
[1;30mERROR[0m [31mException on step 'step1'[0m
[1;30mERROR[0m [31m[step step1] Cannot make job: tests/record-in-secondaryFiles.cwl:10:11: Missing required secondary file 'A.s2' from file object: {
tests/record-in-secondaryFiles.cwl:10:11:     "class": "File",
tests/record-in-secondaryFiles.cwl:10:11:     "location": "file:///conformance/cwl-v1.2-1.2.1_proposed/tests/rec/A",
tests/record-in-secondaryFiles.cwl:10:11:     "size": 0,
tests/record-in-secondaryFiles.cwl:10:11:     "basename": "A",
tests/record-in-secondaryFiles.cwl:10:11:     "nameroot": "A",
tests/record-in-secondaryFiles.cwl:10:11:     "nameext": "",
tests/record-in-secondaryFiles.cwl:10:11:     "secondaryFiles": []
tests/record-in-secondaryFiles.cwl:10:11: }[0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [208/378] input_records_file_entry_with_format: Test format on anonymous record fields

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp3qq1u_zk --quiet tests/record-in-format.cwl tests/record-format-job.yml
Test [209/378] input_records_file_entry_with_format_and_bad_regular_input_file_format: Test file format checking on parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpkedj6k9z --quiet tests/record-in-format.cwl tests/record-format-job2.yml
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Expected value of 'regular_input' to have format http://example.com/format1 but
  File has an incompatible format: {
    "class": "File",
    "location": "file:///conformance/cwl-v1.2-1.2.1_proposed/tests/rec/D",
    "format": "http://example.com/formatZ",
    "size": 0,
    "basename": "D",
    "nameroot": "D",
    "nameext": ""
}[0m
Test [210/378] input_records_file_entry_with_format_and_bad_entry_file_format: Test file format checking on record field

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpg1n61mnz --quiet tests/record-in-format.cwl tests/record-format-job3.yml
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Expected value of 'f1' to have format http://example.com/format1 but
  File has an incompatible format: {
    "class": "File",
    "location": "file:///conformance/cwl-v1.2-1.2.1_proposed/tests/rec/A",
    "format": "http://example.com/formatZ",
    "size": 0,
    "basename": "A",
    "nameroot": "A",
    "nameext": ""
}[0m
Test [211/378] input_records_file_entry_with_format_and_bad_entry_array_file_format: Test file format checking on array item

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpia9cpl72 --quiet tests/record-in-format.cwl tests/record-format-job4.yml
[1;30mERROR[0m [31mUnhandled error, try again with --debug for more information:
  'name'[0m
Test [212/378] record_output_file_entry_format: Test format on output record fields

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpg7e528dt --quiet tests/record-out-format.cwl tests/record-secondaryFiles-job.yml
Test [213/378] workflow_input_inputBinding_loadContents: Test WorkflowInputParameter.inputBinding.loadContents

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphxw5cnar --quiet tests/wf-loadContents.cwl tests/wf-loadContents-job.yml
Test [214/378] workflow_input_loadContents_without_inputBinding: Test WorkflowInputParameter.loadContents

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpyp5h9l2b --quiet tests/wf-loadContents2.cwl tests/wf-loadContents-job.yml
Test [215/378] expression_tool_input_loadContents: Test loadContents on InputParameter.loadContents (expression)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgb2em0wi --quiet tests/wf-loadContents3.cwl tests/wf-loadContents-job.yml
Test [216/378] workflow_step_in_loadContents: Test WorkflowStepInput.loadContents

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4tw3vdgr --quiet tests/wf-loadContents4.cwl tests/wf-loadContents-job.yml
Test [217/378] timelimit_basic: Test that job fails when exceeding time limit

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp84hmwcou --quiet tests/timelimit.cwl tests/empty.json
Test 217 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp84hmwcou --quiet tests/timelimit.cwl tests/empty.json
Test that job fails when exceeding time limit
Returned zero but it should be non-zero
Test [218/378] timelimit_invalid: Test invalid time limit value

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfe9npvxy --quiet tests/timelimit2.cwl tests/empty.json
[1;30mERROR[0m [31mInput object failed validation:
tests/timelimit2.cwl:7:5: timelimit must be an integer >= 0, got: -1[0m
Test [219/378] timelimit_zero_unlimited: Test zero timelimit means no limit

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1jq1r0sq --quiet tests/timelimit3.cwl tests/empty.json
Test [220/378] timelimit_from_expression: Test expression in time limit

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6wud1ksf --quiet tests/timelimit4.cwl tests/empty.json
Test 220 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6wud1ksf --quiet tests/timelimit4.cwl tests/empty.json
Test expression in time limit
Returned zero but it should be non-zero
Test [221/378] timelimit_expressiontool: Test timelimit in expressiontool is ignored

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpz1g7qrpz --quiet tests/timelimit5.cwl tests/empty.json
Test [222/378] timelimit_basic_wf: Test that tool in workflow fails when exceeding time limit

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp8gn84f55 --quiet tests/timelimit-wf.cwl tests/empty.json
Test 222 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp8gn84f55 --quiet tests/timelimit-wf.cwl tests/empty.json
Test that tool in workflow fails when exceeding time limit
Returned zero but it should be non-zero
Test [223/378] timelimit_invalid_wf: Test that workflow level time limit is not applied to workflow execution time

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpriiubl1d --quiet tests/timelimit2-wf.cwl tests/empty.json
Test [224/378] timelimit_zero_unlimited_wf: Test zero timelimit means no limit in workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpiq67_4v6 --quiet tests/timelimit3-wf.cwl tests/empty.json
Test [225/378] timelimit_from_expression_wf: Test expression in time limit in workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbiqoaov4 --quiet tests/timelimit4-wf.cwl tests/empty.json
Test 225 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbiqoaov4 --quiet tests/timelimit4-wf.cwl tests/empty.json
Test expression in time limit in workflow
Returned zero but it should be non-zero
Test [226/378] networkaccess: Test networkaccess enabled

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp92sc35nj --quiet tests/networkaccess.cwl tests/empty.json
Test [227/378] networkaccess_disabled: Test networkaccess is disabled by default

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp83yl04sm --quiet tests/networkaccess2.cwl tests/empty.json
Test 227 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp83yl04sm --quiet tests/networkaccess2.cwl tests/empty.json
Test networkaccess is disabled by default
Returned zero but it should be non-zero
Test [228/378] initial_work_dir_for_null_and_arrays: Test null and array input in InitialWorkDirRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpcd19x_r0 --quiet tests/stage-array.cwl tests/stage-array-job.json
Test [229/378] initial_work_dir_for_array_dirs: Test array of directories InitialWorkDirRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgbup80ny --quiet tests/stage-array-dirs.cwl tests/stage-array-dirs-job.yml
Test 229 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgbup80ny --quiet tests/stage-array-dirs.cwl tests/stage-array-dirs-job.yml
Test array of directories InitialWorkDirRequirement
Compare failure expected: {
    "output": [
        {
            "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "class": "File",
            "location": "a",
            "size": 0
        },
        {
            "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "class": "File",
            "location": "B",
            "size": 0
        }
    ]
}
got: {
    "output": []
}
caused by: failed comparison for key 'output': expected: [
    {
        "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
        "class": "File",
        "location": "a",
        "size": 0
    },
    {
        "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
        "class": "File",
        "location": "B",
        "size": 0
    }
]
got: []
caused by: lengths don't match
Test [230/378] cwl_requirements_addition: Test requirements in input document via EnvVarRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpga_spcvv --quiet tests/env-tool3.cwl tests/env-job3.yaml
Test [231/378] cwl_requirements_override_expression: Test conflicting requirements in input document via EnvVarRequirement and expression

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpn9qnebwb --quiet tests/env-tool4.cwl tests/env-job3.yaml
Test [232/378] cwl_requirements_override_static: Test conflicting requirements in input document via EnvVarRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphn2347_u --quiet tests/env-tool3.cwl tests/env-job4.yaml
Test [233/378] initial_workdir_output_glob: Test full path glob output of InitialWorkDir

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpkm_r97vl --quiet tests/initialworkdir-glob-fullpath.cwl tests/initialworkdirrequirement-docker-out-job.json
Test [234/378] glob_outside_outputs_fails: Test fail trying to glob outside output directory

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0rq88vou --quiet tests/glob-path-error.cwl tests/empty.json
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
("Error collecting output for parameter 'OUTPUT': tests/glob-path-error.cwl:17:7: glob patterns must
                                                                                  not start with
                                                                                  '/'", {})[0m
Test [235/378] illegal_symlink: symlink to file outside of working directory should NOT be retrieved

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpz8gnzzqu --quiet tests/symlink-illegal.cwl tests/empty.json
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Error validating output record. Does not exist or is not a Directory: 'file:///output/6nfls0p6/symlink.txt'
 in {
    "output_file": {
        "location": "file:///output/6nfls0p6/symlink.txt",
        "basename": "symlink.txt",
        "nameroot": "symlink",
        "nameext": ".txt",
        "class": "Directory"
    }
}[0m
Test [236/378] legal_symlink: symlink to file inside of working directory should be retrieved

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6ez2kp6h --quiet tests/symlink-legal.cwl tests/empty.json
Test [237/378] modify_file_content: inplace update has side effect on file content

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfvd1slw9 --quiet tests/inp_update_wf.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/inp_update_wf.cwl:26:7: 'wait' is not an input parameter of
                              file:///conformance/cwl-v1.2-1.2.1_proposed/tests/parseInt-tool.cwl,
                              expected file1[0m
Test 237 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfvd1slw9 --quiet tests/inp_update_wf.cwl tests/empty.json
inplace update has side effect on file content
Compare failure expected: {
    "a": 4,
    "b": 4
}
got: {
    "a": 4,
    "b": null
}
caused by: failed comparison for key 'b': expected: 4
got: null
Test [238/378] modify_directory_content: inplace update has side effect on directory content

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptt458kvc --quiet tests/inpdir_update_wf.cwl tests/empty.json
Test 238 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptt458kvc --quiet tests/inpdir_update_wf.cwl tests/empty.json
inplace update has side effect on directory content
Compare failure expected: {
    "a": [
        {
            "basename": "blurb",
            "class": "File",
            "location": "blurb"
        }
    ],
    "b": [
        {
            "basename": "blurb",
            "class": "File",
            "location": "blurb"
        }
    ]
}
got: {
    "a": [
        {
            "basename": "blurb",
            "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "class": "File",
            "location": "file:///output/tmptt458kvc/blurb",
            "path": "/output/tmptt458kvc/blurb",
            "size": 0
        }
    ],
    "b": []
}
caused by: failed comparison for key 'b': expected: [
    {
        "basename": "blurb",
        "class": "File",
        "location": "blurb"
    }
]
got: []
caused by: lengths don't match
Test [239/378] outputbinding_glob_directory: Test that OutputBinding.glob accepts Directories

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp96sf_8ny --quiet tests/glob_directory.cwl tests/empty.json
Test [240/378] stage_file_array: Test that array of input files can be staged to directory with entryname

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp28yhwnfw --quiet tests/stage_file_array.cwl tests/stage_file_array.job.json
Test [241/378] stage_file_array_basename: Test that array of input files can be staged to directory with basename

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpo7rlldqc --quiet tests/stage_file_array_basename.cwl tests/stage_file_array.job.json
Test [242/378] stage_file_array_entryname_overrides: Test that if array of input files are staged to directory with basename and entryname, entryname overrides

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_l6t5pnu --quiet tests/stage_file_array_basename_and_entryname.cwl tests/stage_file_array.job.json
Test [243/378] tmpdir_is_not_outdir: Test that runtime.tmpdir is not runtime.outdir

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxa32qocs --quiet tests/runtime-paths-distinct.cwl tests/empty.json
Test [244/378] listing_default_none: Test that default behavior is 'no_listing' if not specified

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpx0mpb1ry --quiet tests/listing_none1.cwl tests/listing-job.yml
Test [245/378] listing_requirement_none: Test that 'listing' is not present when LoadListingRequirement is 'no_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp7ftxj_8p --quiet tests/listing_none2.cwl tests/listing-job.yml
Test [246/378] listing_loadListing_none: Test that 'listing' is not present when loadListing on input parameter is 'no_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphagahoyw --quiet tests/listing_none3.cwl tests/listing-job.yml
Test [247/378] listing_requirement_shallow: Test that 'listing' is present in top directory object but not subdirectory object when LoadListingRequirement is 'shallow_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpt3s1g7oc --quiet tests/listing_shallow1.cwl tests/listing-job.yml
Test [248/378] listing_loadListing_shallow: Test that 'listing' is present in top directory object but not subdirectory object when loadListing on input parameter loadListing is 'shallow_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpyigwc_wc --quiet tests/listing_shallow2.cwl tests/listing-job.yml
Test [249/378] listing_outputBinding_loadListing: Test that loadListing works when used on outputBinding.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_dfyjepf --quiet tests/listing_shallow3.cwl tests/listing-job.yml
Test [250/378] listing_requirement_deep: Test that 'listing' is present in top directory object and in subdirectory objects when LoadListingRequirement is 'deep_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5nr32lf7 --quiet tests/listing_deep1.cwl tests/listing-job.yml
Test [251/378] listing_loadListing_deep: Test that 'listing' is present in top directory object and in subdirectory objects when input parameter loadListing is 'deep_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmph_513jwy --quiet tests/listing_deep2.cwl tests/listing-job.yml
Test [252/378] inputBinding_position_expr: Test for expression in the InputBinding.position field; also test using emoji in CWL document and tool output

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_efcyk9u --quiet tests/echo-position-expr.cwl tests/echo-position-expr-job.yml
Test [253/378] outputEval_exitCode: Can access exit code in outputEval

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpwgzbnkw2 --quiet tests/exitcode.cwl tests/empty.json
Test [254/378] any_input_param_graph_no_default: Test use of $graph without specifying which process to run

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1q5x_bd5 --quiet tests/echo-tool-packed.cwl tests/env-job.json
Test [255/378] any_input_param_graph_no_default_hashmain: Test use of $graph without specifying which process to run, hash-prefixed "main"

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxsf1g5oa --quiet tests/echo-tool-packed2.cwl tests/env-job.json
Test [256/378] optional_numerical_output_returns_0_not_null: Test that optional number output is returned as 0, not null

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpyh7ky6k8 --quiet tests/optional-numerical-output-0.cwl tests/empty.json
Test [257/378] cores_float: Test float value for coresMin(Max) is rounded up in runtime.cores

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4dj_82vx --quiet tests/cores_float.cwl tests/empty.json
Test [258/378] storage_float: Test float value for ram/tmpdir/outdir Min(Max) is rounded up

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpchqncv2t --quiet tests/storage_float.cwl tests/empty.json
[1;30mERROR[0m [31mSyntax error in parameter reference 'runtime.tmpdirSize': runtime does not contain key 'tmpdirSize'. This could be due to using Javascript code without specifying InlineJavascriptRequirement.[0m
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 393, in do_eval
    return interpolate(
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 297, in interpolate
    e = evaluator(
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 243, in evaluator
    raise JavascriptException(
cwltool.sandboxjs.JavascriptException: Syntax error in parameter reference 'runtime.tmpdirSize': runtime does not contain key 'tmpdirSize'. This could be due to using Javascript code without specifying InlineJavascriptRequirement.
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
tests/storage_float.cwl:23:30: Expression evaluation error:
                               Syntax error in parameter reference 'runtime.tmpdirSize': runtime
                               does not contain key 'tmpdirSize'. This could be due to using
                               Javascript code without specifying InlineJavascriptRequirement.[0m
Test 258 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpchqncv2t --quiet tests/storage_float.cwl tests/empty.json
Test float value for ram/tmpdir/outdir Min(Max) is rounded up
Returned non-zero
Test [259/378] cat_synthetic_file: Test the generation of a synthetic file with inline contents.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpc8_webta --quiet tests/synth-file.cwl tests/synth-file-job.yml
Test [260/378] continuation: Line continuations in bash scripts should behave correctly

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpr9_od__n --quiet tests/string-interpolation/bash-line-continuation.cwl
Test [261/378] continuation_expression: Line continuations in bash scripts should always behave correctly

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpodx66jah --quiet tests/string-interpolation/bash-line-continuation-with-expression.cwl
Test [262/378] quoting_multiple_backslashes: Test quoting multiple backslashes

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzn0zs6nh --quiet tests/string-interpolation/bash-dollar-quote.cwl
Test [263/378] escaping_expression_no_extra_quotes: Strings returned from JS expressions should not have extra quotes around them

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp634airea --quiet tests/string-interpolation/js-quote.cwl
Test [264/378] direct_optional_null_result: Simplest conditional pattern (False)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpet1tr6cx --quiet tests/conditionals/cond-wf-001.cwl tests/conditionals/val.1.job.yaml
Test [265/378] direct_optional_nonnull_result: Simplest conditional pattern (True)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpy3n084jg --quiet tests/conditionals/cond-wf-001.cwl tests/conditionals/val.3.job.yaml
Test [266/378] direct_required: Conditional using intermediate WorkflowStep.in input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1rhyn87q --quiet tests/conditionals/cond-wf-002.cwl tests/conditionals/val.1.job.yaml
Test [267/378] pass_through_required_false_when: Pass through pattern with pickValue: first_non_null; 'when' is false

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1vr2t2ms --quiet tests/conditionals/cond-wf-003.cwl tests/conditionals/val.1.job.yaml
Test [268/378] pass_through_required_true_when: pass through pattern with pickvalue: first_non_null; 'when' is true

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpyuo8094l --quiet tests/conditionals/cond-wf-003.cwl tests/conditionals/val.3.job.yaml
Test [269/378] first_non_null_first_non_null: pickValue: first_non_null first item is non null

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6l24u9o0 --quiet tests/conditionals/cond-wf-003.1.cwl tests/conditionals/val.0.job.yaml
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-wf-003.1.cwl:11:7: 'a_new_var' is not an input parameter of
                                           file:///conformance/cwl-v1.2-1.2.1_proposed/tests/conditionals/foo.cwl,
                                           expected in1[0m
Test [270/378] first_non_null_all_null: pickValue: first_non_null needs at least one non null

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpel5ixlc7 --quiet tests/conditionals/cond-wf-003.1.cwl tests/conditionals/val.1.job.yaml
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-wf-003.1.cwl:11:7: 'a_new_var' is not an input parameter of
                                           file:///conformance/cwl-v1.2-1.2.1_proposed/tests/conditionals/foo.cwl,
                                           expected in1[0m
[1;30mERROR[0m [31m[workflow ] Cannot collect workflow output: All sources for 'out1' are null[0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [271/378] first_non_null_second_non_null: pickValue: first_non_null second item is non null

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpms75vjvs --quiet tests/conditionals/cond-wf-003.1.cwl tests/conditionals/val.3.job.yaml
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-wf-003.1.cwl:11:7: 'a_new_var' is not an input parameter of
                                           file:///conformance/cwl-v1.2-1.2.1_proposed/tests/conditionals/foo.cwl,
                                           expected in1[0m
Test [272/378] pass_through_required_the_only_non_null: pickvalue: the_only_non_null will pass, only for false condition

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpj8f5pwd6 --quiet tests/conditionals/cond-wf-004.cwl tests/conditionals/val.1.job.yaml
Test [273/378] pass_through_required_fail: pickValue: the_only_non_null will fail due to multiple non nulls

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpac4pd42b --quiet tests/conditionals/cond-wf-004.cwl tests/conditionals/val.3.job.yaml
[1;30mERROR[0m [31m[workflow ] Cannot collect workflow output: Expected only one source for 'out1' to be non-null, got ['foo 3', 'Direct'][0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [274/378] all_non_null_multi_with_non_array_output: pickValue: all_non_null will fail validation

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpli877q70 --quiet tests/conditionals/cond-wf-005.cwl tests/conditionals/val.3.job.yaml
[1;30mERROR[0m [31mTool definition failed validation:

tests/conditionals/cond-wf-005.cwl:17:11: Source 'out1' of type "string" is incompatible
tests/conditionals/cond-wf-005.cwl:21:5:     with sink 'out1' of type "string"
                                            pickValue is: all_non_null
                                            source has linkMerge method merge_nested
tests/conditionals/cond-wf-005.cwl:6:5:     Source 'def' of type "string" is incompatible
tests/conditionals/cond-wf-005.cwl:21:5:     with sink 'out1' of type "string"
                                            pickValue is: all_non_null
                                            source has linkMerge method merge_nested[0m
Test [275/378] the_only_non_null_single_true: pickValue: the_only_non_null will pass for only one active node

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpd78wisu1 --quiet tests/conditionals/cond-wf-006.cwl tests/conditionals/val.1.job.yaml
Test [276/378] the_only_non_null_multi_true: pickValue: the_only_non_null will fail with two active nodes

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpqumtvpbr --quiet tests/conditionals/cond-wf-006.cwl tests/conditionals/val.3.job.yaml
[1;30mERROR[0m [31m[workflow ] Cannot collect workflow output: Expected only one source for 'out1' to be non-null, got ['foo 3', 'bar 3'][0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [277/378] all_non_null_all_null: pickValue: all_non_null will produce a list, even if empty

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpauyc3pl4 --quiet tests/conditionals/cond-wf-007.cwl tests/conditionals/val.0.job.yaml
Test [278/378] all_non_null_one_non_null: pickValue: all_non_null will produce a list; even if single item list

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9wp2q21u --quiet tests/conditionals/cond-wf-007.cwl tests/conditionals/val.1.job.yaml
Test [279/378] all_non_null_multi_non_null: pickValue: all_non_null will produce a list

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptmdbmm3_ --quiet tests/conditionals/cond-wf-007.cwl tests/conditionals/val.3.job.yaml
Test [280/378] condifional_scatter_on_nonscattered_false: Simple scatter: conditional on a non scattered variable (False)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmps3t5f444 --quiet tests/conditionals/cond-wf-009.cwl tests/conditionals/cond15.job.yaml
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-wf-009.cwl:15:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          "string"}] may be incompatible
tests/conditionals/cond-wf-009.cwl:20:5:    with sink 'out1' of type {"type": "array", "items":
                                            "string"}
                                            pickValue is used but only a single input source is
                                            declared
tests/conditionals/cond-wf-009.cwl:15:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          "string"}] may be incompatible
tests/conditionals/cond-wf-009.cwl:20:5:    with sink 'out1' of type {"type": "array", "items":
                                            "string"}
                                            Source is from conditional step and may produce `null`
tests/conditionals/cond-wf-009.cwl:15:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          "string"}] may be incompatible
tests/conditionals/cond-wf-009.cwl:20:5:    with sink 'out1' of type {"type": "array", "items":
                                            "string"}
                                            pickValue is: all_non_null[0m
Test [281/378] condifional_scatter_on_nonscattered_true: Simple scatter: conditional on a non scattered variable (True)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbpxsq2k_ --quiet tests/conditionals/cond-wf-009.cwl tests/conditionals/cond16.job.yaml
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-wf-009.cwl:15:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          "string"}] may be incompatible
tests/conditionals/cond-wf-009.cwl:20:5:    with sink 'out1' of type {"type": "array", "items":
                                            "string"}
                                            pickValue is used but only a single input source is
                                            declared
tests/conditionals/cond-wf-009.cwl:15:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          "string"}] may be incompatible
tests/conditionals/cond-wf-009.cwl:20:5:    with sink 'out1' of type {"type": "array", "items":
                                            "string"}
                                            Source is from conditional step and may produce `null`
tests/conditionals/cond-wf-009.cwl:15:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          "string"}] may be incompatible
tests/conditionals/cond-wf-009.cwl:20:5:    with sink 'out1' of type {"type": "array", "items":
                                            "string"}
                                            pickValue is: all_non_null[0m
Test [282/378] scatter_on_scattered_conditional: Simple scatter: Add conditional variable to scatter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpli7z7dfd --quiet tests/conditionals/cond-wf-010.cwl tests/conditionals/val.6.list.job.yaml
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-wf-010.cwl:14:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          "string"}] may be incompatible
tests/conditionals/cond-wf-010.cwl:20:5:    with sink 'out1' of type {"type": "array", "items":
                                            "string"}
                                            pickValue is used but only a single input source is
                                            declared
tests/conditionals/cond-wf-010.cwl:14:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          "string"}] may be incompatible
tests/conditionals/cond-wf-010.cwl:20:5:    with sink 'out1' of type {"type": "array", "items":
                                            "string"}
                                            Source is from conditional step and may produce `null`
tests/conditionals/cond-wf-010.cwl:14:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          "string"}] may be incompatible
tests/conditionals/cond-wf-010.cwl:20:5:    with sink 'out1' of type {"type": "array", "items":
                                            "string"}
                                            pickValue is: all_non_null[0m
Test [283/378] conditionals_nested_cross_scatter: nested cross product scatter with condition on one dimension

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp7zk26wq6 --quiet tests/conditionals/cond-wf-011.cwl tests/conditionals/cond18.job.yaml
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-wf-011.cwl:17:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          {"type": "array", "items": {"type": "array", "items":
                                          "string"}}}] may be incompatible
tests/conditionals/cond-wf-011.cwl:23:5:    with sink 'out1' of type {"type": "array", "items":
                                            {"type": "array", "items": {"type": "array", "items":
                                            ["string", "null"]}}}
                                            pickValue is used but only a single input source is
                                            declared
tests/conditionals/cond-wf-011.cwl:17:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          {"type": "array", "items": {"type": "array", "items":
                                          "string"}}}] may be incompatible
tests/conditionals/cond-wf-011.cwl:23:5:    with sink 'out1' of type {"type": "array", "items":
                                            {"type": "array", "items": {"type": "array", "items":
                                            ["string", "null"]}}}
                                            Source is from conditional step and may produce `null`
tests/conditionals/cond-wf-011.cwl:17:11: Source 'out1' of type ["null", {"type": "array", "items":
                                          {"type": "array", "items": {"type": "array", "items":
                                          "string"}}}] may be incompatible
tests/conditionals/cond-wf-011.cwl:23:5:    with sink 'out1' of type {"type": "array", "items":
                                            {"type": "array", "items": {"type": "array", "items":
                                            ["string", "null"]}}}
                                            pickValue is: all_non_null[0m
Test [284/378] conditionals_non_boolean_fail: Non-boolean values from "when" should fail

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp58y7wrxi --quiet tests/conditionals/cond-wf-012.cwl tests/conditionals/val.1.job.yaml
[1;30mERROR[0m [31m[step step1] Cannot make job: Conditional 'when' must evaluate to 'true' or 'false'[0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [285/378] conditionals_multi_scatter: Scatter two steps, flatten result + pickValue

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpod93c6zf --quiet tests/conditionals/cond-wf-013.cwl tests/conditionals/cond20.job.yaml
Test [286/378] direct_optional_null_result_nojs: simplest conditional pattern (true), no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpyefq9fpp --quiet tests/conditionals/cond-wf-001_nojs.cwl tests/conditionals/test-true.yml
Test [287/378] direct_optional_nonnull_result_nojs: simplest conditional pattern (false), no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpr3sjgcxd --quiet tests/conditionals/cond-wf-001_nojs.cwl tests/conditionals/test-false.yml
Test [288/378] direct_required_nojs: Conditional using intermediate WorkflowStep.in input; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppqnbi540 --quiet tests/conditionals/cond-wf-002_nojs.cwl tests/conditionals/val.1.job.yaml
Test [289/378] pass_through_required_false_when_nojs: Pass through pattern with pickValue: first_non_null; 'when' is false'; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpkhrc7xlh --quiet tests/conditionals/cond-wf-003_nojs.cwl tests/conditionals/test-false.yml
Test [290/378] pass_through_required_true_when_nojs: pass through pattern with pickvalue: first_non_null; 'when' is true'; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5m6t7u5d --quiet tests/conditionals/cond-wf-003_nojs.cwl tests/conditionals/test-true.yml
Test [291/378] first_non_null_first_non_null_nojs: pickValue: first_non_null first item is non null; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpt498cw52 --quiet tests/conditionals/cond-wf-003.1_nojs.cwl tests/conditionals/first-true.yml
Test [292/378] first_non_null_all_null_nojs: pickValue: first_non_null needs at least one non null; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxrjqf0mi --quiet tests/conditionals/cond-wf-003.1_nojs.cwl tests/conditionals/both-false.yml
[1;30mERROR[0m [31m[workflow ] Cannot collect workflow output: All sources for 'out1' are null[0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [293/378] first_non_null_second_non_null_nojs: pickValue: first_non_null second item is non null; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1zbtkt9_ --quiet tests/conditionals/cond-wf-003.1_nojs.cwl tests/conditionals/second-true.yml
Test [294/378] pass_through_required_the_only_non_null_nojs: pickvalue: the_only_non_null will pass, only for false condition; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9lszmtub --quiet tests/conditionals/cond-wf-004_nojs.cwl tests/conditionals/test-false.yml
Test [295/378] pass_through_required_fail_nojs: pickValue: the_only_non_null will fail due to multiple non nulls; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmph9o15lds --quiet tests/conditionals/cond-wf-004_nojs.cwl tests/conditionals/test-true.yml
[1;30mERROR[0m [31m[workflow ] Cannot collect workflow output: Expected only one source for 'out1' to be non-null, got ['foo 23', 'Direct'][0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [296/378] all_non_null_multi_with_non_array_output_nojs: pickValue: all_non_null will fail validation; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpnje7ps05 --quiet tests/conditionals/cond-wf-005_nojs.cwl tests/conditionals/test-true.yml
[1;30mERROR[0m [31mTool definition failed validation:

tests/conditionals/cond-wf-005_nojs.cwl:20:11: Source 'out1' of type "string" is incompatible
tests/conditionals/cond-wf-005_nojs.cwl:24:5:     with sink 'out1' of type "string"
                                                 pickValue is: all_non_null
                                                 source has linkMerge method merge_nested
tests/conditionals/cond-wf-005_nojs.cwl:9:5:     Source 'def' of type "string" is incompatible
tests/conditionals/cond-wf-005_nojs.cwl:24:5:     with sink 'out1' of type "string"
                                                 pickValue is: all_non_null
                                                 source has linkMerge method merge_nested[0m
Test [297/378] the_only_non_null_single_true_nojs: pickValue: the_only_non_null will pass for only one active node; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpr4mxzc99 --quiet tests/conditionals/cond-wf-006_nojs.cwl tests/conditionals/second-true.yml
Test [298/378] the_only_non_null_multi_true_nojs: pickValue: the_only_non_null will fail with two active nodes; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpepa0_xex --quiet tests/conditionals/cond-wf-006_nojs.cwl tests/conditionals/both-true.yml
[1;30mERROR[0m [31m[workflow ] Cannot collect workflow output: Expected only one source for 'out1' to be non-null, got ['foo 23', 'bar 23'][0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [299/378] all_non_null_all_null_nojs: pickValue: all_non_null will produce a list, even if empty; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpugky1bgt --quiet tests/conditionals/cond-wf-007_nojs.cwl tests/conditionals/both-false.yml
Test [300/378] all_non_null_one_non_null_nojs: pickValue: all_non_null will produce a list; even if single item list; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp06pporxo --quiet tests/conditionals/cond-wf-007_nojs.cwl tests/conditionals/second-true.yml
Test [301/378] all_non_null_multi_non_null_nojs: pickValue: all_non_null will produce a list; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpcx4kllqg --quiet tests/conditionals/cond-wf-007_nojs.cwl tests/conditionals/both-true.yml
Test [302/378] condifional_scatter_on_nonscattered_false_nojs: Simple scatter: conditional on a non scattered variable (False); no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphzstlnm2 --quiet tests/conditionals/cond-wf-009_nojs.cwl tests/conditionals/test-false.yml
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-wf-009_nojs.cwl:17:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": "string"}] may be incompatible
tests/conditionals/cond-wf-009_nojs.cwl:22:5:    with sink 'out1' of type {"type": "array",
                                                 "items": "string"}
                                                 pickValue is used but only a single input source
                                                 is declared
tests/conditionals/cond-wf-009_nojs.cwl:17:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": "string"}] may be incompatible
tests/conditionals/cond-wf-009_nojs.cwl:22:5:    with sink 'out1' of type {"type": "array",
                                                 "items": "string"}
                                                 Source is from conditional step and may produce
                                                 `null`
tests/conditionals/cond-wf-009_nojs.cwl:17:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": "string"}] may be incompatible
tests/conditionals/cond-wf-009_nojs.cwl:22:5:    with sink 'out1' of type {"type": "array",
                                                 "items": "string"}
                                                 pickValue is: all_non_null[0m
Test [303/378] condifional_scatter_on_nonscattered_true_nojs: Simple scatter: conditional on a non scattered variable (True); no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpljdj2p9a --quiet tests/conditionals/cond-wf-009_nojs.cwl tests/conditionals/test-true.yml
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-wf-009_nojs.cwl:17:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": "string"}] may be incompatible
tests/conditionals/cond-wf-009_nojs.cwl:22:5:    with sink 'out1' of type {"type": "array",
                                                 "items": "string"}
                                                 pickValue is used but only a single input source
                                                 is declared
tests/conditionals/cond-wf-009_nojs.cwl:17:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": "string"}] may be incompatible
tests/conditionals/cond-wf-009_nojs.cwl:22:5:    with sink 'out1' of type {"type": "array",
                                                 "items": "string"}
                                                 Source is from conditional step and may produce
                                                 `null`
tests/conditionals/cond-wf-009_nojs.cwl:17:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": "string"}] may be incompatible
tests/conditionals/cond-wf-009_nojs.cwl:22:5:    with sink 'out1' of type {"type": "array",
                                                 "items": "string"}
                                                 pickValue is: all_non_null[0m
Test [304/378] scatter_on_scattered_conditional_nojs: Simple scatter: Add conditional variable to scatter; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpnycg_arq --quiet tests/conditionals/cond-wf-010_nojs.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-wf-010_nojs.cwl:19:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": "string"}] may be incompatible
tests/conditionals/cond-wf-010_nojs.cwl:25:5:    with sink 'out1' of type {"type": "array",
                                                 "items": "string"}
                                                 pickValue is used but only a single input source
                                                 is declared
tests/conditionals/cond-wf-010_nojs.cwl:19:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": "string"}] may be incompatible
tests/conditionals/cond-wf-010_nojs.cwl:25:5:    with sink 'out1' of type {"type": "array",
                                                 "items": "string"}
                                                 Source is from conditional step and may produce
                                                 `null`
tests/conditionals/cond-wf-010_nojs.cwl:19:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": "string"}] may be incompatible
tests/conditionals/cond-wf-010_nojs.cwl:25:5:    with sink 'out1' of type {"type": "array",
                                                 "items": "string"}
                                                 pickValue is: all_non_null[0m
Test [305/378] conditionals_nested_cross_scatter_nojs: nested cross product scatter with condition on one dimension; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9kvefs9r --quiet tests/conditionals/cond-wf-011_nojs.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-wf-011_nojs.cwl:27:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": {"type": "array", "items": {"type":
                                               "array", "items": "string"}}}] may be incompatible
tests/conditionals/cond-wf-011_nojs.cwl:33:5:    with sink 'out1' of type {"type": "array",
                                                 "items": {"type": "array", "items": {"type":
                                                 "array", "items": ["string", "null"]}}}
                                                 pickValue is used but only a single input source
                                                 is declared
tests/conditionals/cond-wf-011_nojs.cwl:27:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": {"type": "array", "items": {"type":
                                               "array", "items": "string"}}}] may be incompatible
tests/conditionals/cond-wf-011_nojs.cwl:33:5:    with sink 'out1' of type {"type": "array",
                                                 "items": {"type": "array", "items": {"type":
                                                 "array", "items": ["string", "null"]}}}
                                                 Source is from conditional step and may produce
                                                 `null`
tests/conditionals/cond-wf-011_nojs.cwl:27:11: Source 'out1' of type ["null", {"type": "array",
                                               "items": {"type": "array", "items": {"type":
                                               "array", "items": "string"}}}] may be incompatible
tests/conditionals/cond-wf-011_nojs.cwl:33:5:    with sink 'out1' of type {"type": "array",
                                                 "items": {"type": "array", "items": {"type":
                                                 "array", "items": ["string", "null"]}}}
                                                 pickValue is: all_non_null[0m
Test [306/378] conditionals_non_boolean_fail_nojs: Non-boolean values from "when" should fail; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpf9i0y5zh --quiet tests/conditionals/cond-wf-012_nojs.cwl tests/empty.json
[1;30mERROR[0m [31m[step step1] Cannot make job: Conditional 'when' must evaluate to 'true' or 'false'[0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [307/378] conditionals_multi_scatter_nojs: Scatter two steps, flatten result + pickValue; no javascript

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp31cbg9bo --quiet tests/conditionals/cond-wf-013_nojs.cwl tests/empty.json
Test [308/378] cond-with-defaults-1: Default inputs, choose step to run based on what was provided, first case

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpddi9sx4x --quiet tests/conditionals/cond-with-defaults.cwl tests/conditionals/cond-job.yaml
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-with-defaults.cwl:12:5: Source 'forward_reads' of type ["null", "File"] may
                                                be incompatible
tests/conditionals/cond-with-defaults.cwl:36:7:   with sink 'initial_file' of type {"type":
                                                  "array", "items": "File"}
                                                  source has linkMerge method merge_nested
tests/conditionals/cond-with-defaults.cwl:13:5: Source 'reverse_reads' of type ["null", "File"] may
                                                be incompatible
tests/conditionals/cond-with-defaults.cwl:36:7:   with sink 'initial_file' of type {"type":
                                                  "array", "items": "File"}
                                                  source has linkMerge method merge_nested
tests/conditionals/cond-with-defaults.cwl:14:5: Source 'single_reads' of type ["null", "File"] may
                                                be incompatible
tests/conditionals/cond-with-defaults.cwl:47:7:   with sink 'initial_file' of type "File"[0m
Test [309/378] cond-with-defaults-2: Default inputs, choose step to run based on what was provided, second case

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6jd_ibkb --quiet tests/conditionals/cond-with-defaults.cwl tests/conditionals/cond-job2.yaml
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/conditionals/cond-with-defaults.cwl:14:5: Source 'single_reads' of type ["null", "File"] may
                                                be incompatible
tests/conditionals/cond-with-defaults.cwl:47:7:   with sink 'initial_file' of type "File"
tests/conditionals/cond-with-defaults.cwl:12:5: Source 'forward_reads' of type ["null", "File"] may
                                                be incompatible
tests/conditionals/cond-with-defaults.cwl:36:7:   with sink 'initial_file' of type {"type":
                                                  "array", "items": "File"}
                                                  source has linkMerge method merge_nested
tests/conditionals/cond-with-defaults.cwl:13:5: Source 'reverse_reads' of type ["null", "File"] may
                                                be incompatible
tests/conditionals/cond-with-defaults.cwl:36:7:   with sink 'initial_file' of type {"type":
                                                  "array", "items": "File"}
                                                  source has linkMerge method merge_nested[0m
Test [310/378] command_input_file_expression: Confirm CommandInputParameter expression can receive a File object

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpsg4wy3wn --quiet tests/secondaryfiles/rename-inputs.cwl tests/secondaryfiles/rename-inputs.yml
Test [311/378] command_output_file_expression: Confirm CommandOutputParameter expression can receive a File object

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpa5qunnyb --quiet tests/secondaryfiles/rename-outputs.cwl
Test [312/378] mixed_version_v10_wf: test v1.0 workflow document that runs other versions

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpdic9fz3t --quiet tests/mixed-versions/wf-v10.cwl
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/mixed-versions/wf-v10.cwl:5:5:   Source 'inp1' of type "File" may be incompatible
tests/mixed-versions/wf-v10.cwl:18:10:   with sink 'inp1' of type "File"
tests/mixed-versions/wf-v10.cwl:5:5:   Source 'inp1' of type "File" may be incompatible
tests/mixed-versions/wf-v10.cwl:22:10:   with sink 'inp1' of type "File"[0m
Test [313/378] mixed_version_v11_wf: test v1.1 workflow document that runs other versions

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpmbt6ptfq --quiet tests/mixed-versions/wf-v11.cwl
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/mixed-versions/wf-v11.cwl:5:5:   Source 'inp1' of type "File" may be incompatible
tests/mixed-versions/wf-v11.cwl:15:10:   with sink 'inp1' of type "File"[0m
Test [314/378] mixed_version_v12_wf: test v1.2 workflow document that runs other versions

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6zab4gn_ --quiet tests/mixed-versions/wf-v12.cwl
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/mixed-versions/wf-v12.cwl:7:5:   Source 'inp1' of type "File" may be incompatible
tests/mixed-versions/wf-v12.cwl:17:10:   with sink 'inp1' of type "File"[0m
Test [315/378] invalid_syntax_v10_uses_v12_tool: test tool with v1.2 syntax marked as v1.0 (should fail)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbfzl_6qs --quiet tests/mixed-versions/invalid-tool-v10.cwl
[1;30mERROR[0m [31mTool definition failed validation:
tests/mixed-versions/invalid-tool-v10.cwl:1:1:   Object 'tests/mixed-versions/invalid-tool-v10.cwl'
                                                is not valid because
                                                  tried 'CommandLineTool' but
tests/mixed-versions/invalid-tool-v10.cwl:3:1:       * the 'inputs' field is not valid because
tests/mixed-versions/invalid-tool-v10.cwl:4:3:         item is invalid because
tests/mixed-versions/invalid-tool-v10.cwl:6:5:           the 'secondaryFiles' field is not valid
                                                        because
                                                          tried array of <string or Expression> but
tests/mixed-versions/invalid-tool-v10.cwl:7:9:               item is invalid because
                                                              value is a CommentedMap, expected
                                                              string or Expression
tests/mixed-versions/invalid-tool-v10.cwl:9:1:       * the 'requirements' field is not valid because
                                                      tried array of <InlineJavascriptRequirement
                                                      or SchemaDefRequirement or DockerRequirement or
                                                      SoftwareRequirement or InitialWorkDirRequirement or
                                                      EnvVarRequirement or ShellCommandRequirement or
                                                      ResourceRequirement or
                                                      SubworkflowFeatureRequirement or
                                                      ScatterFeatureRequirement or
                                                      MultipleInputFeatureRequirement or
                                                      StepInputExpressionRequirement> but
tests/mixed-versions/invalid-tool-v10.cwl:10:3:         item is invalid because
tests/mixed-versions/invalid-tool-v10.cwl:11:5:           the 'coresMin' field is not valid because
                                                            - tried long but
                                                              the value '0.5' is not long
                                                            - tried string but
                                                              the value is not string
                                                            - tried Expression but
                                                              value is a ScalarFloat but expected a
                                                              string[0m
Test [316/378] invalid_syntax_v11_uses_v12_tool: test tool with v1.2 syntax marked as v1.1 (should fail)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_bt05jon --quiet tests/mixed-versions/invalid-tool-v11.cwl
[1;30mERROR[0m [31mTool definition failed validation:
tests/mixed-versions/invalid-tool-v11.cwl:1:1:   Object 'tests/mixed-versions/invalid-tool-v11.cwl'
                                                is not valid because
                                                  tried 'CommandLineTool' but
tests/mixed-versions/invalid-tool-v11.cwl:9:1:       the 'requirements' field is not valid because
                                                      tried array of <InlineJavascriptRequirement
                                                      or SchemaDefRequirement or LoadListingRequirement
                                                      or DockerRequirement or SoftwareRequirement or
                                                      InitialWorkDirRequirement or EnvVarRequirement or
                                                      ShellCommandRequirement or ResourceRequirement or
                                                      WorkReuse or NetworkAccess or
                                                      InplaceUpdateRequirement or ToolTimeLimit or
                                                      SubworkflowFeatureRequirement or
                                                      ScatterFeatureRequirement or
                                                      MultipleInputFeatureRequirement or
                                                      StepInputExpressionRequirement> but
tests/mixed-versions/invalid-tool-v11.cwl:10:3:         item is invalid because
tests/mixed-versions/invalid-tool-v11.cwl:11:5:           the 'coresMin' field is not valid because
                                                            - tried long but
                                                              the value '0.5' is not long
                                                            - tried Expression but
                                                              value is a ScalarFloat but expected a
                                                              string[0m
Test [317/378] invalid_syntax_v10_uses_v12_workflow: test wf with v1.2 syntax marked as v1.0 (should fail)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpj_7l318l --quiet tests/mixed-versions/invalid-wf-v10.cwl
[1;30mERROR[0m [31mTool definition failed validation:
tests/mixed-versions/invalid-wf-v10.cwl:1:1:   Object 'tests/mixed-versions/invalid-wf-v10.cwl' is
                                              not valid because
                                                tried 'Workflow' but
tests/mixed-versions/invalid-wf-v10.cwl:5:1:       * the 'inputs' field is not valid because
tests/mixed-versions/invalid-wf-v10.cwl:6:3:         item is invalid because
tests/mixed-versions/invalid-wf-v10.cwl:11:5:         the 'secondaryFiles' field is not valid
                                                      because
                                                        tried array of <string or Expression> but
tests/mixed-versions/invalid-wf-v10.cwl:12:9:             item is invalid because
                                                            value is a CommentedMap, expected
                                                            string or Expression
tests/mixed-versions/invalid-wf-v10.cwl:15:1:     * the 'steps' field is not valid because
                                                    tried array of <WorkflowStep> but
tests/mixed-versions/invalid-wf-v10.cwl:24:3:         item is invalid because
tests/mixed-versions/invalid-wf-v10.cwl:27:5:           invalid field 'when', expected one of:
                                                        'id', 'in', 'out', 'requirements', 'hints', 'label',
                                                        'doc', 'run', 'scatter', 'scatterMethod'[0m
Test [318/378] invalid_syntax_v11_uses_v12_workflow: test wf with v1.2 syntax marked as v1.1 (should fail)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5k4vn1sr --quiet tests/mixed-versions/invalid-wf-v11.cwl
[1;30mERROR[0m [31mTool definition failed validation:
tests/mixed-versions/invalid-wf-v11.cwl:1:1:   Object 'tests/mixed-versions/invalid-wf-v11.cwl' is
                                              not valid because
                                                tried 'Workflow' but
tests/mixed-versions/invalid-wf-v11.cwl:15:1:     the 'steps' field is not valid because
                                                    tried array of <WorkflowStep> but
tests/mixed-versions/invalid-wf-v11.cwl:24:3:         item is invalid because
tests/mixed-versions/invalid-wf-v11.cwl:27:5:           invalid field 'when', expected one of:
                                                        'id', 'label', 'doc', 'in', 'out', 'requirements',
                                                        'hints', 'run', 'scatter', 'scatterMethod'[0m
Test [319/378] invalid_syntax_mixed_v12_workflow: test 1.2 wf that includes tools that are marked as v1.0 and v1.1 that contain v1.2 features (should fail)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpwb4fs37u --quiet tests/mixed-versions/invalid-wf-v12.cwl
[1;30mERROR[0m [31mTool definition failed initialization:
Tool definition file:///conformance/cwl-v1.2-1.2.1_proposed/tests/mixed-versions/invalid-tool-v10.cwl failed validation:
tests/mixed-versions/invalid-tool-v10.cwl:1:1:     Object 'tests/mixed-versions/invalid-tool-v10.cwl'
                                                  is not valid because
                                                    tried 'CommandLineTool' but
tests/mixed-versions/invalid-tool-v10.cwl:3:1:         * the 'inputs' field is not valid because
tests/mixed-versions/invalid-tool-v10.cwl:4:3:           item is invalid because
tests/mixed-versions/invalid-tool-v10.cwl:6:5:             the 'secondaryFiles' field is not valid
                                                          because
                                                            tried array of <string or Expression> but
tests/mixed-versions/invalid-tool-v10.cwl:7:9:                 item is invalid because
                                                                value is a CommentedMap, expected
                                                                string or Expression
tests/mixed-versions/invalid-tool-v10.cwl:9:1:         * the 'requirements' field is not valid because
                                                        tried array of <InlineJavascriptRequirement
                                                        or SchemaDefRequirement or DockerRequirement or
                                                        SoftwareRequirement or InitialWorkDirRequirement or
                                                        EnvVarRequirement or ShellCommandRequirement or
                                                        ResourceRequirement or
                                                        SubworkflowFeatureRequirement or
                                                        ScatterFeatureRequirement or
                                                        MultipleInputFeatureRequirement or
                                                        StepInputExpressionRequirement> but
tests/mixed-versions/invalid-tool-v10.cwl:10:3:           item is invalid because
tests/mixed-versions/invalid-tool-v10.cwl:11:5:             the 'coresMin' field is not valid because
                                                              - tried long but
                                                                the value '0.5' is not long
                                                              - tried string but
                                                                the value is not string
                                                              - tried Expression but
                                                                value is a ScalarFloat but expected a
                                                                string[0m
Test [320/378] cwloutput_nolimit: Test that loading from cwl.output.json isn't limited to 64k

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp7mbgneeo --quiet tests/loadContents/cwloutput-nolimit.cwl
Test [321/378] loadcontents_limit: Test that loadContents on a file larger than 64k fails

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbtg7x84e --quiet tests/loadContents/loadContents-limit.cwl tests/loadContents/input.yml
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
tests/loadContents/loadContents-limit.cwl:7:5: Reading
                                               file:///conformance/cwl-v1.2-1.2.1_proposed/tests/loadContents/inp-filelist.txt
                                               file is too large, loadContents limited to 65536
                                               bytes[0m
Test [322/378] iwd-nolimit: Test that InitialWorkDir contents can be bigger than 64k

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpz5hc6uov --quiet tests/iwd/iwd-nolimit.cwl
Test [323/378] iwd-jsondump1: Test dump object to JSON in InitialWorkDir file contents, no trailing newline

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5pdwvbh_ --quiet tests/iwd/iwd-jsondump1.cwl
Test [324/378] iwd-jsondump1-nl: Test dump object to JSON in InitialWorkDir file contents, with trailing newline

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgx6ty65r --quiet tests/iwd/iwd-jsondump1-nl.cwl
Test [325/378] iwd-jsondump2: Test array to JSON in InitialWorkDir file contents, no trailing newline

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp2_gdq_o0 --quiet tests/iwd/iwd-jsondump2.cwl
Test [326/378] iwd-jsondump2-nl: Test array to JSON in InitialWorkDir file contents, with trailing newline

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9s3sf85q --quiet tests/iwd/iwd-jsondump2-nl.cwl
Test [327/378] iwd-jsondump3: Test number to JSON in InitialWorkDir file contents, no trailing newline

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmps860c84c --quiet tests/iwd/iwd-jsondump3.cwl
Test [328/378] iwd-jsondump3-nl: Test number to JSON in InitialWorkDir file contents, with trailing newline

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpmv1vxpxs --quiet tests/iwd/iwd-jsondump3-nl.cwl
Test [329/378] iwd-passthrough1: Test InitialWorkDir file passthrough

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpqph7t38i --quiet tests/iwd/iwd-passthrough1.cwl tests/loadContents/input.yml
tests/iwd/iwd-passthrough1.cwl:17:3: object id 'tests/iwd/iwd-passthrough1.cwl#filelist' previously defined
Test [330/378] iwd-passthrough2: Test InitialWorkDir file object is serialized to json

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp81ap4nra --quiet tests/iwd/iwd-passthrough2.cwl tests/loadContents/input.yml
Test [331/378] iwd-passthrough3: Test InitialWorkDir file object is passed through

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpvizk9une --quiet tests/iwd/iwd-passthrough3.cwl tests/loadContents/input.yml
tests/iwd/iwd-passthrough3.cwl:10:3: object id 'tests/iwd/iwd-passthrough3.cwl#filelist' previously defined
Test [332/378] iwd-passthrough4: Test InitialWorkDir file object is passed through

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0zbie5u3 --quiet tests/iwd/iwd-passthrough4.cwl tests/loadContents/input.yml
tests/iwd/iwd-passthrough4.cwl:9:3: object id 'tests/iwd/iwd-passthrough4.cwl#filelist' previously defined
Test [333/378] iwd-fileobjs1: Test File and Directory object in listing

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp82o1zp8b --quiet tests/iwd/iwd-fileobjs1.cwl
Test 333 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp82o1zp8b --quiet tests/iwd/iwd-fileobjs1.cwl
Test File and Directory object in listing
Compare failure expected: {
    "filelist": {
        "basename": "inp-filelist.txt",
        "checksum": "sha1$57f77b36009332d236b52b4beca77301b503b27c",
        "class": "File",
        "location": "inp-filelist.txt",
        "size": 268866
    },
    "testdir": {
        "basename": "testdir",
        "class": "Directory",
        "listing": [
            {
                "basename": "b",
                "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
                "class": "File",
                "location": "b",
                "size": 0
            },
            {
                "basename": "c",
                "class": "Directory",
                "listing": [
                    {
                        "basename": "d",
                        "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
                        "class": "File",
                        "location": "d",
                        "size": 0
                    }
                ],
                "location": "c"
            },
            {
                "basename": "a",
                "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
                "class": "File",
                "location": "a",
                "size": 0
            }
        ],
        "location": "testdir"
    }
}
got: {
    "filelist": {
        "basename": "inp-filelist.txt",
        "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
        "class": "File",
        "location": "file:///output/tmp82o1zp8b/inp-filelist.txt",
        "path": "/output/tmp82o1zp8b/inp-filelist.txt",
        "size": 0
    },
    "testdir": {
        "basename": "testdir",
        "class": "Directory",
        "listing": [],
        "location": "file:///output/tmp82o1zp8b/testdir",
        "path": "/output/tmp82o1zp8b/testdir"
    }
}
caused by: failed comparison for key 'filelist': expected: {
    "basename": "inp-filelist.txt",
    "checksum": "sha1$57f77b36009332d236b52b4beca77301b503b27c",
    "class": "File",
    "location": "inp-filelist.txt",
    "size": 268866
}
got: {
    "basename": "inp-filelist.txt",
    "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
    "class": "File",
    "location": "file:///output/tmp82o1zp8b/inp-filelist.txt",
    "path": "/output/tmp82o1zp8b/inp-filelist.txt",
    "size": 0
}
caused by: Output file checksums do not match: actual 'sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709' is not equal to expected 'sha1$57f77b36009332d236b52b4beca77301b503b27c'
Test [334/378] iwd-fileobjs2: Test File and Directory object in listing

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_tbxxelc --quiet tests/iwd/iwd-fileobjs2.cwl
Test 334 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_tbxxelc --quiet tests/iwd/iwd-fileobjs2.cwl
Test File and Directory object in listing
Compare failure expected: {
    "filelist": {
        "basename": "inp-filelist.txt",
        "checksum": "sha1$57f77b36009332d236b52b4beca77301b503b27c",
        "class": "File",
        "location": "inp-filelist.txt",
        "size": 268866
    },
    "testdir": {
        "basename": "testdir",
        "class": "Directory",
        "listing": [
            {
                "basename": "b",
                "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
                "class": "File",
                "location": "b",
                "size": 0
            },
            {
                "basename": "c",
                "class": "Directory",
                "listing": [
                    {
                        "basename": "d",
                        "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
                        "class": "File",
                        "location": "d",
                        "size": 0
                    }
                ],
                "location": "c"
            },
            {
                "basename": "a",
                "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
                "class": "File",
                "location": "a",
                "size": 0
            }
        ],
        "location": "testdir"
    }
}
got: {
    "filelist": {
        "basename": "inp-filelist.txt",
        "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
        "class": "File",
        "location": "file:///output/tmp_tbxxelc/inp-filelist.txt",
        "path": "/output/tmp_tbxxelc/inp-filelist.txt",
        "size": 0
    },
    "testdir": {
        "basename": "testdir",
        "class": "Directory",
        "listing": [],
        "location": "file:///output/tmp_tbxxelc/testdir",
        "path": "/output/tmp_tbxxelc/testdir"
    }
}
caused by: failed comparison for key 'filelist': expected: {
    "basename": "inp-filelist.txt",
    "checksum": "sha1$57f77b36009332d236b52b4beca77301b503b27c",
    "class": "File",
    "location": "inp-filelist.txt",
    "size": 268866
}
got: {
    "basename": "inp-filelist.txt",
    "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
    "class": "File",
    "location": "file:///output/tmp_tbxxelc/inp-filelist.txt",
    "path": "/output/tmp_tbxxelc/inp-filelist.txt",
    "size": 0
}
caused by: Output file checksums do not match: actual 'sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709' is not equal to expected 'sha1$57f77b36009332d236b52b4beca77301b503b27c'
Test [335/378] iwd-container-entryname1: Test input mount locations when container required

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpohcknau8 --quiet tests/iwd/iwd-container-entryname1.cwl tests/loadContents/input.yml
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow or tool uses unsupported feature:
Error: feature DockerRequirement.dockerOutputDirectory is not supported[0m
Test [336/378] iwd-container-entryname2: Test input mount locations when no container (should fail)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpi8w73sr_ --quiet tests/iwd/iwd-container-entryname2.cwl tests/loadContents/input.yml
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
("Error collecting output for parameter 'head': tests/iwd/iwd-container-entryname2.cwl:12:7: Did not find output
                                                                                             file with glob
                                                                                             pattern:
                                                                                             '['head.txt']'.",
                                                                                             {})[0m
Test [337/378] iwd-container-entryname3: Test input mount locations when container is a hint (should fail)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp37z5le2x --quiet tests/iwd/iwd-container-entryname3.cwl tests/loadContents/input.yml
[1;30mWARNING[0m [33mtests/iwd/iwd-container-entryname3.cwl:15:5: When 'dockerOutputDirectory' is declared, DockerRequirement should go in the 'requirements' section, not 'hints'.[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
tests/iwd/iwd-container-entryname3.cwl:19:5: Name '/tmp2j3y7rpb/input/stuff.txt' at index 0 of
                                             listing is invalid, name can only start with '/' when
                                             DockerRequirement is in 'requirements'.[0m
Test [338/378] iwd-container-entryname4: Must fail if entryname starts with ../

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpvyrcfeqs --quiet tests/iwd/iwd-container-entryname4.cwl tests/loadContents/input.yml
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
tests/iwd/iwd-container-entryname4.cwl:14:5: Name '../input/stuff.txt' at index 0 of listing is
                                             invalid, cannot start with '../'[0m
Test [339/378] iwdr_dir_literal_real_file: Test directory literal containing a real file

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp2zkdqycj --quiet tests/iwd/iwdr_dir_literal_real_file.cwl tests/loadContents/input.yml
Test [340/378] iwd-subdir: Test emitting a subdirectory from initial workdir

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphyqzbw1g --quiet tests/iwd/iwd-subdir-wf.cwl tests/iwd/iwd-subdir-job.yml
tests/iwd/iwd-subdir-tool.cwl:10:3: object id 'tests/iwd/iwd-subdir-tool.cwl#testdir' previously defined
tests/iwd/iwd-passthrough5.cwl:10:3: object id 'tests/iwd/iwd-passthrough5.cwl#testdir' previously defined
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
("Error collecting output for parameter 'testdir': tests/iwd/iwd-subdir-tool.cwl:16:7: Did not find output
                                                                                       file with glob
                                                                                       pattern:
                                                                                       '['testdir/c']'.",
                                                                                       {})[0m
Test 340 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphyqzbw1g --quiet tests/iwd/iwd-subdir-wf.cwl tests/iwd/iwd-subdir-job.yml
Test emitting a subdirectory from initial workdir
Returned non-zero
Test [341/378] simple_simple_scatter: Two level nested scatter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpx8bfjy82 --quiet tests/scatter/simple-simple-scatter.cwl tests/scatter/scatter-job.yml
Test [342/378] dotproduct_simple_scatter: Two level nested scatter: external dotproduct and internal simple

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp83ac4eqs --quiet tests/scatter/dotproduct-simple-scatter.cwl tests/scatter/scatter2-job.yml
Test [343/378] simple_dotproduct_scatter: Two level nested scatter: external simple and internal dotproduct

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptzm4gdub --quiet tests/scatter/simple-dotproduct-scatter.cwl tests/scatter/scatter3-job.yml
Test [344/378] dotproduct_dotproduct_scatter: Two level nested scatter: external dotproduct and internal dotproduct

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpr2brhyw3 --quiet tests/scatter/dotproduct-dotproduct-scatter.cwl tests/scatter/scatter4-job.yml
Test [345/378] flat_crossproduct_simple_scatter: Two level nested scatter: external flat_crossproduct and internal simple

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzkk7nyba --quiet tests/scatter/flat-crossproduct-simple-scatter.cwl tests/scatter/scatter2-job.yml
Test [346/378] simple_flat_crossproduct_scatter: Two level nested scatter: external simple and internal flat_crossproduct

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6r7q5em_ --quiet tests/scatter/simple-flat-crossproduct-scatter.cwl tests/scatter/scatter3-job.yml
Test [347/378] flat_crossproduct_flat_crossproduct_scatter: Two level nested scatter: external flat_crossproduct and internal flat_crossproduct

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9gat2cl9 --quiet tests/scatter/flat-crossproduct-flat-crossproduct-scatter.cwl tests/scatter/scatter4-job.yml
Test [348/378] nested_crossproduct_simple_scatter: Two level nested scatter: external nested_crossproduct and internal simple

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpv1mhy5kj --quiet tests/scatter/nested-crossproduct-simple-scatter.cwl tests/scatter/scatter2-job.yml
Test [349/378] simple_nested_crossproduct_scatter: Two level nested scatter: external simple and internal nested_crossproduct

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmph7l0jey3 --quiet tests/scatter/simple-nested-crossproduct-scatter.cwl tests/scatter/scatter3-job.yml
Test [350/378] nested_crossproduct_nested_crossproduct_scatter: Two level nested scatter: external nested_crossproduct and internal nested_crossproduct

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmprcusq9xu --quiet tests/scatter/nested-crossproduct-nested-crossproduct-scatter.cwl tests/scatter/scatter4-job.yml
Test [351/378] params_broken_null: Test parameter reference that refers to null.something

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp7z5s1d9c --quiet tests/params_broken_null.cwl tests/empty.json
[1;30mERROR[0m [31mSyntax error in parameter reference 'null.something': null is not defined. This could be due to using Javascript code without specifying InlineJavascriptRequirement.[0m
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 393, in do_eval
    return interpolate(
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 297, in interpolate
    e = evaluator(
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 243, in evaluator
    raise JavascriptException(
cwltool.sandboxjs.JavascriptException: Syntax error in parameter reference 'null.something': null is not defined. This could be due to using Javascript code without specifying InlineJavascriptRequirement.
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
("Error collecting output for parameter 'output1': tests/params_broken_null.cwl:12:7: Expression
                                                                                      evaluation
                                                                                      error:\ntests/params_broken_null.cwl:12:7:
                                                                                      Syntax error in
                                                                                      parameter reference
                                                                                      'null.something':
                                                                                      null is not
                                                                                      defined. This could
                                                                                      be due to using
                                                                                      Javascript code
                                                                                      without specifying
                                                                                      InlineJavascriptRequirement.",
                                                                                      {})[0m
Test [352/378] length_for_non_array: Test parameter reference that refers to length of non-array input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptpikfb5y --quiet tests/params_broken_length_of_non_list.cwl tests/empty.json
[1;30mERROR[0m [31mSyntax error in parameter reference 'inputs.bar.length': inputs.bar.length is a int, cannot index on string 'length'. This could be due to using Javascript code without specifying InlineJavascriptRequirement.[0m
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 393, in do_eval
    return interpolate(
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 297, in interpolate
    e = evaluator(
  File "/usr/local/lib/python3.10/site-packages/cwltool/expression.py", line 243, in evaluator
    raise JavascriptException(
cwltool.sandboxjs.JavascriptException: Syntax error in parameter reference 'inputs.bar.length': inputs.bar.length is a int, cannot index on string 'length'. This could be due to using Javascript code without specifying InlineJavascriptRequirement.
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
("Error collecting output for parameter 'output1': tests/params_broken_length_of_non_list.cwl:12:7: Expression
                                                                                                    evaluation
                                                                                                    error:\ntests/params_broken_length_of_non_list.cwl:12:7:
                                                                                                    Syntax error in
                                                                                                    parameter reference
                                                                                                    'inputs.bar.length':
                                                                                                    inputs.bar.length
                                                                                                    is a int, cannot
                                                                                                    index on string
                                                                                                    'length'. This
                                                                                                    could be due to
                                                                                                    using Javascript
                                                                                                    code without
                                                                                                    specifying
                                                                                                    InlineJavascriptRequirement.",
                                                                                                    {})[0m
Test [353/378] user_defined_length_in_parameter_reference: Test 'length' in parameter reference where it does not refer to length of an array input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphdruzkdb --quiet tests/params_input_length_non_array.cwl tests/length_non_array_input.yml
Test [354/378] directory_literal_with_literal_file_in_subdir_nostdin: Test non-stdin reference to literal File via a nested Directory literal

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpz2wt_kle --quiet tests/cat4-from-dir.cwl tests/cat-from-dir-with-literal-file-in-subdir.yaml
Test [355/378] colon_in_paths: Confirm that colons are tolerated in input paths, string values, stdout shortcut, and output file & directory names

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4tp6jc_r --quiet tests/colon:test.cwl tests/colon:test:job.yaml
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Invalid filename: 'A:Gln2Cys' contains illegal characters[0m
Test 355 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4tp6jc_r --quiet tests/colon:test.cwl tests/colon:test:job.yaml
Confirm that colons are tolerated in input paths, string values, stdout shortcut, and output file & directory names
Returned non-zero
Test [356/378] colon_in_output_path: Confirm that colons are tolerated in output directory names

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpo0gdzkt6 --quiet tests/colon_test_output.cwl tests/colon_test_output_job.yaml
Test [357/378] record_with_default: Confirm that records with defaults are accepted

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpyfzzahwl --quiet tests/paramref_arguments_roundtrip.cwl
usage: tests/paramref_arguments_roundtrip.cwl [-h] --a_record.fifth
                                              A_RECORD.FIFTH --a_record.first
                                              A_RECORD.FIRST --a_record.second
                                              A_RECORD.SECOND --a_record.sixth
                                              A_RECORD.SIXTH --a_record.third
                                              A_RECORD.THIRD
                                              [job_order]
tests/paramref_arguments_roundtrip.cwl: error: the following arguments are required: --a_record.fifth, --a_record.first, --a_record.second, --a_record.sixth, --a_record.third
Test 357 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpyfzzahwl --quiet tests/paramref_arguments_roundtrip.cwl
Confirm that records with defaults are accepted
Returned non-zero
Test [358/378] record_outputeval: Use of outputEval on a record itself, not the fields of the record

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpr32611ea --quiet tests/record_outputeval.cwl
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Error validating output record. the 'references' field is not valid because
  * the 'genome_fa' field is not valid because
    is not a dict. Expected a File object.
  * the 'annotation_gtf' field is not valid because
    is not a dict. Expected a File object.
 in {
    "references": {
        "genome_fa": null,
        "annotation_gtf": null
    }
}[0m
Test 358 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpr32611ea --quiet tests/record_outputeval.cwl
Use of outputEval on a record itself, not the fields of the record
Returned non-zero
Test [359/378] record_outputeval_nojs: Use of outputEval on a record itself, not the fields of the record (without javascript)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp7681uvpj --quiet tests/record_outputeval_nojs.cwl
usage: tests/record_outputeval_nojs.cwl [-h] --ref.annotation_gtf
                                        REF.ANNOTATION_GTF --ref.genome_fa
                                        REF.GENOME_FA
                                        [job_order]
tests/record_outputeval_nojs.cwl: error: the following arguments are required: --ref.annotation_gtf, --ref.genome_fa
Test 359 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp7681uvpj --quiet tests/record_outputeval_nojs.cwl
Use of outputEval on a record itself, not the fields of the record (without javascript)
Returned non-zero
Test [360/378] staging-basename: Use of expression tool to change basename of file, then correctly staging the file using the new name.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppmqthxle --quiet tests/staging-basename/wf_ren.cwl
Test [361/378] runtime-outdir: Use of $(runtime.outdir) for outputBinding glob.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmple_2qdle --quiet tests/runtime-outdir.cwl
Test [362/378] record_order_with_input_bindings: Test sorting arguments at each level (inputBinding for all levels)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp3lghuhfx --quiet tests/record-order.cwl tests/record-order-job.json
Test [363/378] output_reference_workflow_input: Direct use of Workflow level input fields in the outputs.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_bgrua54 --quiet tests/output_reference_workflow_input.cwl
Test [364/378] stdout_chained_commands: Test that chaining two echo calls causes the workflow tool to emit the output to stdout. This is to confirm that the workflow tool will **not** create an expression such as `echo a && echo b > out.txt`, but instead will produce the correct `echo a && echo b`, and capture the output correctly.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfyrbn12c --quiet tests/stdout_chained_commands.cwl
Test [365/378] multiple-input-feature-requirement: MultipleInputFeatureRequirement on workflow outputs.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpwt0e7xk6 --quiet tests/multiple_input_feature_requirement.cwl
Test [366/378] js-input-record: A test case for JS with an input record.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzibdf1yc --quiet tests/js-input-record.cwl tests/js-input-record.json
Test [367/378] schemadef_types_with_import: Test SchemaDefRequirement with a workflow, with the `$import` under types. It is similar to schemadef-wf, but the `$import` is different.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpddno7ik9 --quiet tests/schemadef_types_with_import-wf.cwl tests/schemadef_types_with_import-job.json
Test [368/378] filename_with_hash_mark: Test for correct handling of URL-quoting in filename to refer to filename containing a hash mark

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1es71934 --quiet tests/cat-tool.cwl tests/octo.yml
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Invalid filename: 'item #1.txt' contains illegal characters[0m
Test 368 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1es71934 --quiet tests/cat-tool.cwl tests/octo.yml
Test for correct handling of URL-quoting in filename to refer to filename containing a hash mark
Returned non-zero
Test [369/378] capture_files: Test that a type error is raised if directories are returned by glob evaluation when type is File

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6h_4qqbu --quiet tests/capture-files.cwl tests/dir-job.yml
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Error validating output record. the 'result' field is not valid because
  item is invalid because
    Expected class 'org.w3id.cwl.cwl.File' but this is 'Directory'
 in {
    "result": [
        {
            "location": "file:///output/4e46q784/testdir/a",
            "basename": "a",
            "nameroot": "a",
            "nameext": "",
            "class": "File",
            "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "size": 0
        },
        {
            "location": "file:///output/4e46q784/testdir/b",
            "basename": "b",
            "nameroot": "b",
            "nameext": "",
            "class": "File",
            "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "size": 0
        },
        {
            "location": "file:///output/4e46q784/testdir/c",
            "basename": "c",
            "nameroot": "c",
            "nameext": "",
            "class": "Directory"
        }
    ]
}[0m
Test [370/378] capture_dirs: Test that a type error is raised if files are returned by glob evaluation when type is Directory

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxn1pxy_9 --quiet tests/capture-dirs.cwl tests/dir-job.yml
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Error validating output record. the 'result' field is not valid because
  item is invalid because
    Expected class 'org.w3id.cwl.cwl.Directory' but this is 'File'
 in {
    "result": [
        {
            "location": "file:///output/cqoj435c/testdir/a",
            "basename": "a",
            "nameroot": "a",
            "nameext": "",
            "class": "File",
            "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "size": 0
        },
        {
            "location": "file:///output/cqoj435c/testdir/b",
            "basename": "b",
            "nameroot": "b",
            "nameext": "",
            "class": "File",
            "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "size": 0
        },
        {
            "location": "file:///output/cqoj435c/testdir/c",
            "basename": "c",
            "nameroot": "c",
            "nameext": "",
            "class": "Directory"
        }
    ]
}[0m
Test [371/378] capture_files_and_dirs: Test that both files and directories are captured by glob evaluation when type is [Directory, File]

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpu9l_j5w8 --quiet tests/capture-files-and-dirs.cwl tests/dir-job.yml
Test [372/378] very_big_and_very_floats: Confirm that very big and very small numbers are represented using decimals, not scientific notation

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpnc63881a --quiet tests/floats_small_and_large.cwl tests/empty.json
Test 372 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpnc63881a --quiet tests/floats_small_and_large.cwl tests/empty.json
Confirm that very big and very small numbers are represented using decimals, not scientific notation
Compare failure expected: {
    "result": "0.00001 0.0000123 123000 1230000"
}
got: {
    "result": "1e-05 1.23e-05 123000.0 1230000"
}
caused by: failed comparison for key 'result': expected: "0.00001 0.0000123 123000 1230000"
got: "1e-05 1.23e-05 123000.0 1230000"
Test [373/378] very_big_and_very_floats_nojs: Confirm that very big and very small numbers are represented using decimals, not scientific notation

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpva9ib18a --quiet tests/floats_small_and_large_nojs.cwl tests/empty.json
Test 373 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpva9ib18a --quiet tests/floats_small_and_large_nojs.cwl tests/empty.json
Confirm that very big and very small numbers are represented using decimals, not scientific notation
Compare failure expected: {
    "result": {
        "basename": "dump",
        "checksum": "sha1$8a3913a553b8f29d47b99c1f4b0f6c2ee833cdc2",
        "class": "File",
        "size": 32
    }
}
got: {
    "result": {
        "basename": "dump",
        "checksum": "sha1$8892ff487ecfad730e121bf991270af834c6f64d",
        "class": "File",
        "location": "file:///output/tmpva9ib18a/dump",
        "path": "/output/tmpva9ib18a/dump",
        "size": 31
    }
}
caused by: failed comparison for key 'result': expected: {
    "basename": "dump",
    "checksum": "sha1$8a3913a553b8f29d47b99c1f4b0f6c2ee833cdc2",
    "class": "File",
    "size": 32
}
got: {
    "basename": "dump",
    "checksum": "sha1$8892ff487ecfad730e121bf991270af834c6f64d",
    "class": "File",
    "location": "file:///output/tmpva9ib18a/dump",
    "path": "/output/tmpva9ib18a/dump",
    "size": 31
}
caused by: Output file checksums do not match: actual 'sha1$8892ff487ecfad730e121bf991270af834c6f64d' is not equal to expected 'sha1$8a3913a553b8f29d47b99c1f4b0f6c2ee833cdc2'
Test [374/378] default_with_falsey_value: Confirms that "false"-like (but not 'null') values override any default

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpm0sue51f --quiet tests/default_with_falsey_value.cwl tests/empty.json
Test [375/378] nested_types: demonstrate usage of nested types

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpztzbbo66 --quiet tests/nested_types.cwl tests/nested_types.yaml
Test [376/378] paramref_arguments_runtime: confirm that $runtime is available to parameter references in arguments

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9os_t2ci --quiet tests/paramref_arguments_runtime.cwl tests/empty.json
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Error validating output record. the 'runtime' field is not valid because
  * missing required field 'outdirSize'
  * missing required field 'tmpdirSize'
 in {
    "runtime": {
        "cores": 1,
        "outdir": "/hZjnSX",
        "ram": 256,
        "tmpdir": "/tmp"
    }
}[0m
Test 376 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9os_t2ci --quiet tests/paramref_arguments_runtime.cwl tests/empty.json
confirm that $runtime is available to parameter references in arguments
Returned non-zero
Test [377/378] paramref_arguments_self: confirm that $self is available and set to null in arguments

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbr2mtd_n --quiet tests/paramref_arguments_self.cwl tests/empty.json
Test [378/378] paramref_arguments_inputs: confirm that $inputs is available to parameter references in arguments

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpc6k2ipt_ --quiet tests/paramref_arguments_inputs.cwl tests/empty.json
353 tests passed, 23 failures, 2 unsupported features
