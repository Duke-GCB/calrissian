The `id` field with integer is deprecated. Use string identifier instead.
The `id` field with integer is deprecated. Use string identifier instead.
The `id` field with integer is deprecated. Use string identifier instead.
The `id` field with integer is deprecated. Use string identifier instead.
The `id` field with integer is deprecated. Use string identifier instead.
The `id` field with integer is deprecated. Use string identifier instead.
The `id` field with integer is deprecated. Use string identifier instead.
The `id` field with integer is deprecated. Use string identifier instead.
The `id` field with integer is deprecated. Use string identifier instead.
Test [1/253] cl_basic_generation: General test of command line generation

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1d34os60 --quiet tests/bwa-mem-tool.cwl tests/bwa-mem-job.json
Test [2/253] nested_prefixes_arrays: Test nested prefixes with arrays

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpe6cfz6wj --quiet tests/binding-test.cwl tests/bwa-mem-job.json
Test [3/253] nested_cl_bindings: Test nested command line bindings

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpa40mdqq9 --quiet tests/tmap-tool.cwl tests/tmap-job.json
Test [4/253] cl_optional_inputs_missing: Test command line with optional input (missing)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpu01vl5r1 --quiet tests/cat1-testcli.cwl tests/cat-job.json
Test [5/253] cl_optional_bindings_provided: Test command line with optional input (provided)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5c5jh16j --quiet tests/cat1-testcli.cwl tests/cat-n-job.json
Test [6/253] initworkdir_expreng_requirements: Test InitialWorkDirRequirement ExpressionEngineRequirement.engineConfig feature

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpz1q_6dgk --quiet tests/template-tool.cwl tests/cat-job.json
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:       exports = module.exports = _;
tests/template-tool.cwl:7:9: JSHINT:       ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'exports' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:     exports._ = _;
tests/template-tool.cwl:7:9: JSHINT:     ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'exports' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:     if (typeof module !== 'undefined' && module.exports) {
tests/template-tool.cwl:7:9: JSHINT:                                          ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'module' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:       exports = module.exports = _;
tests/template-tool.cwl:7:9: JSHINT:                 ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'module' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:     return setTimeout(function(){
tests/template-tool.cwl:7:9: JSHINT:            ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'setTimeout' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:         timeout = setTimeout(later, remaining);
tests/template-tool.cwl:7:9: JSHINT:                   ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'setTimeout' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:         timeout = setTimeout(later, wait - last);
tests/template-tool.cwl:7:9: JSHINT:                   ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'setTimeout' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:       if (!timeout) timeout = setTimeout(later, wait);
tests/template-tool.cwl:7:9: JSHINT:                               ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'setTimeout' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:         clearTimeout(timeout);
tests/template-tool.cwl:7:9: JSHINT:         ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'clearTimeout' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:     root._ = previousUnderscore;
tests/template-tool.cwl:7:9: JSHINT:              ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'previousUnderscore' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:   if (typeof define === 'function' && define.amd) {
tests/template-tool.cwl:7:9: JSHINT:                                       ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'define' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:7:9: JSHINT:     define('underscore', [], function() {
tests/template-tool.cwl:7:9: JSHINT:     ^
tests/template-tool.cwl:7:9: JSHINT: W117: 'define' is not defined.[0m
[1;30mWARNING[0m [33mtests/template-tool.cwl:8:9: JSHINT: var t = function(s) { return _.template(s, {variable: 'data'})({'inputs': inputs}); };
tests/template-tool.cwl:8:9: JSHINT:                              ^
tests/template-tool.cwl:8:9: JSHINT: W117: '_' is not defined.[0m
Test [7/253] stdout_redirect_docker: Test command execution in Docker with stdout redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpeu8x_fc5 --quiet tests/cat3-tool.cwl tests/cat-job.json
Test [8/253] stdout_redirect_shortcut_docker: Test command execution in Docker with shortcut stdout redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpdmb49o0l --quiet tests/cat3-tool-shortcut.cwl tests/cat-job.json
Test [9/253] stdout_redirect_mediumcut_docker: Test command execution in Docker with mediumcut stdout redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1sduead5 --quiet tests/cat3-tool-mediumcut.cwl tests/cat-job.json
Test [10/253] stderr_redirect: Test command line with stderr redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpeuhmhco9 --quiet tests/stderr.cwl tests/empty.json
Test [11/253] stderr_redirect_shortcut: Test command line with stderr redirection, brief syntax

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbgevvd47 --quiet tests/stderr-shortcut.cwl tests/empty.json
Test [12/253] stderr_redirect_mediumcut: Test command line with stderr redirection, named brief syntax

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmplkw6rclm --quiet tests/stderr-mediumcut.cwl tests/empty.json
Test [13/253] stdinout_redirect_docker: Test command execution in Docker with stdin and stdout redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzz_lqurj --quiet tests/cat4-tool.cwl tests/cat-job.json
Test [14/253] expression_any: Test default usage of Any in expressions.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp99kgrnlc --quiet tests/null-expression1-tool.cwl tests/empty.json
Test [15/253] expression_any_null: Test explicitly passing null to Any type inputs with default values.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1_h29r_8 --quiet tests/null-expression1-tool.cwl tests/null-expression1-job.json
Test [16/253] expression_any_string: Testing the string 'null' does not trip up an Any with a default value.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphiezwv3y --quiet tests/null-expression1-tool.cwl tests/null-expression2-job.json
Test [17/253] expression_any_nodefaultany: Test Any without defaults cannot be unspecified.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp66hpcyg3 --quiet tests/null-expression2-tool.cwl tests/empty.json
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Invalid job input record:
tests/null-expression2-tool.cwl:9:3: Missing required input parameter 'i1'[0m
Test [18/253] expression_any_null_nodefaultany: Test explicitly passing null to Any type without a default value.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpre3hk6nr --quiet tests/null-expression2-tool.cwl tests/null-expression1-job.json
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Invalid job input record:
tests/null-expression2-tool.cwl:9:3: Missing required input parameter 'i1'[0m
Test [19/253] expression_any_nullstring_nodefaultany: Testing the string 'null' does not trip up an Any without a default value.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpekas28fz --quiet tests/null-expression2-tool.cwl tests/null-expression2-job.json
Test [20/253] any_outputSource_compatibility: Testing Any type compatibility in outputSource

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgpfkkewi --quiet tests/any-type-compat.cwl tests/any-type-job.json
Test [21/253] stdinout_redirect: Test command execution in with stdin and stdout redirection

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpq_ocxfj_ --quiet tests/cat-tool.cwl tests/cat-job.json
Test [22/253] expression_parseint: Test ExpressionTool with Javascript engine

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp41b_m8te --quiet tests/parseInt-tool.cwl tests/parseInt-job.json
Test [23/253] expression_outputEval: Test outputEval to transform output

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp3gvveyuj --quiet tests/wc2-tool.cwl tests/wc-job.json
Test [24/253] wf_wc_parseInt: Test two step workflow with imported tools

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6y1h34sk --quiet tests/count-lines1-wf.cwl tests/wc-job.json
Test [25/253] wf_wc_expressiontool: Test two step workflow with inline tools

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpeqa12t47 --quiet tests/count-lines2-wf.cwl tests/wc-job.json
Test [26/253] wf_wc_scatter: Test single step workflow with Scatter step

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpe1wljql0 --quiet tests/count-lines3-wf.cwl tests/count-lines3-job.json
Test [27/253] wf_wc_scatter_multiple_merge: Test single step workflow with Scatter step and two data links connected to same input, default merge behavior

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpss29yjy9 --quiet tests/count-lines4-wf.cwl tests/count-lines4-job.json
Test [28/253] wf_wc_scatter_multiple_nested: Test single step workflow with Scatter step and two data links connected to same input, nested merge behavior

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1rcesvb0 --quiet tests/count-lines6-wf.cwl tests/count-lines6-job.json
Test [29/253] wf_wc_scatter_multiple_flattened: Test single step workflow with Scatter step and two data links connected to same input, flattened merge behavior

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpnn3ltbfx --quiet tests/count-lines7-wf.cwl tests/count-lines6-job.json
Test [30/253] wf_wc_nomultiple: Test that no MultipleInputFeatureRequirement is necessary when workflow step source is a single-item list

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpsql0t14m --quiet tests/count-lines13-wf.cwl tests/count-lines6-job.json
Test [31/253] wf_input_default_missing: Test workflow with default value for input parameter (missing)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgto9dk30 --quiet tests/count-lines5-wf.cwl tests/empty.json
Test [32/253] wf_input_default_provided: Test workflow with default value for input parameter (provided)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9j2rdhun --quiet tests/count-lines5-wf.cwl tests/wc-job.json
Test [33/253] wf_default_tool_default: Test that workflow defaults override tool defaults

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbhtes22i --quiet tests/echo-wf-default.cwl tests/empty.json
Test [34/253] envvar_req: Test EnvVarRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptx8ix1mo --quiet tests/env-tool1.cwl tests/env-job.json
Test [35/253] wf_scatter_single_param: Test workflow scatter with single scatter parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzkal5sg_ --quiet tests/scatter-wf1.cwl tests/scatter-job1.json
Test [36/253] wf_scatter_two_nested_crossproduct: Test workflow scatter with two scatter parameters and nested_crossproduct join method

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5puvipms --quiet tests/scatter-wf2.cwl tests/scatter-job2.json
Test [37/253] wf_scatter_two_flat_crossproduct: Test workflow scatter with two scatter parameters and flat_crossproduct join method

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpq0lmsrdu --quiet tests/scatter-wf3.cwl#main tests/scatter-job2.json
Test [38/253] wf_scatter_two_dotproduct: Test workflow scatter with two scatter parameters and dotproduct join method

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpkdoml5mp --quiet tests/scatter-wf4.cwl#main tests/scatter-job2.json
Test [39/253] wf_scatter_emptylist: Test workflow scatter with single empty list parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp7tsbeuvs --quiet tests/scatter-wf1.cwl tests/scatter-empty-job1.json
[1;30mWARNING[0m [33m[job step step1] Notice: scattering over empty input in 'echo_in'.  All outputs will be empty.[0m
Test [40/253] wf_scatter_nested_crossproduct_secondempty: Test workflow scatter with two scatter parameters and nested_crossproduct join method with second list empty

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_fh0sev1 --quiet tests/scatter-wf2.cwl tests/scatter-empty-job2.json
[1;30mWARNING[0m [33m[job step step1] Notice: scattering over empty input in 'echo_in2'.  All outputs will be empty.[0m
Test [41/253] wf_scatter_nested_crossproduct_firstempty: Test workflow scatter with two scatter parameters and nested_crossproduct join method with first list empty

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgon3itv1 --quiet tests/scatter-wf3.cwl#main tests/scatter-empty-job3.json
[1;30mWARNING[0m [33m[job step step1] Notice: scattering over empty input in 'echo_in1'.  All outputs will be empty.[0m
Test [42/253] wf_scatter_flat_crossproduct_oneempty: Test workflow scatter with two scatter parameters, one of which is empty and flat_crossproduct join method

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpphs7jgre --quiet tests/scatter-wf3.cwl#main tests/scatter-empty-job2.json
[1;30mWARNING[0m [33m[job step step1] Notice: scattering over empty input in 'echo_in2'.  All outputs will be empty.[0m
Test [43/253] wf_scatter_dotproduct_twoempty: Test workflow scatter with two empty scatter parameters and dotproduct join method

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpee0aykxa --quiet tests/scatter-wf4.cwl#main tests/scatter-empty-job4.json
[1;30mWARNING[0m [33m[job step step1] Notice: scattering over empty input in 'echo_in1', 'echo_in2'.  All outputs will be empty.[0m
Test [44/253] any_input_param: Test Any type input parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpg7kspfi4 --quiet tests/echo-tool.cwl tests/env-job.json
Test [45/253] nested_workflow: Test nested workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpcaewk5jr --quiet tests/count-lines8-wf.cwl tests/wc-job.json
Test [46/253] requirement_priority: Test requirement priority

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6t5zcwgb --quiet tests/env-wf1.cwl tests/env-job.json
Test [47/253] requirement_override_hints: Test requirements override hints

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9hpztyb3 --quiet tests/env-wf2.cwl tests/env-job.json
Test [48/253] requirement_workflow_steps: Test requirements on workflow steps

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9yyvcdpx --quiet tests/env-wf3.cwl tests/env-job.json
Test [49/253] step_input_default_value: Test default value on step input parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpl3v244a9 --quiet tests/count-lines9-wf.cwl tests/empty.json
Test [50/253] step_input_default_value_nosource: Test use default value on step input parameter with empty source

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgruofklb --quiet tests/count-lines11-wf.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-wf.cwl:6:3:  Source 'file1' of type ["null", "File"] may be incompatible
tests/count-lines11-wf.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [51/253] step_input_default_value_nullsource: Test use default value on step input parameter with null source

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1x6i4rmt --quiet tests/count-lines11-wf.cwl tests/file1-null.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-wf.cwl:6:3:  Source 'file1' of type ["null", "File"] may be incompatible
tests/count-lines11-wf.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [52/253] step_input_default_value_overriden: Test default value on step input parameter overridden by provided source

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpe5l8yz2u --quiet tests/count-lines11-wf.cwl tests/cat-job.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-wf.cwl:6:3:  Source 'file1' of type ["null", "File"] may be incompatible
tests/count-lines11-wf.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [53/253] wf_simple: Test simple workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpasmf802s --quiet tests/revsort.cwl tests/revsort-job.json
Test [54/253] hints_unknown_ignored: Test unknown hints are ignored.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp2hgj1qgs --quiet tests/cat5-tool.cwl tests/cat-job.json
tests/cat5-tool.cwl:10:3: Warning: checking item
                          Warning:   Field 'class' contains undefined reference to
                          'http://example.com/BlibberBlubberFakeRequirement'
[1;30mWARNING[0m [33mtests/cat5-tool.cwl:10:3: Warning: checking item
                          Warning:   Field 'class' contains undefined reference to
                          'http://example.com/BlibberBlubberFakeRequirement'[0m
Test [55/253] initial_workdir_secondary_files_expr: Test InitialWorkDirRequirement linking input files and capturing secondaryFiles on input and output. Also tests the use of a variety of parameter references and expressions in the secondaryFiles field.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpvyrwh905 --quiet tests/search.cwl#main tests/search-job.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/search.cwl:103:13: Source 'result' of type "File" may be incompatible
tests/search.cwl:108:9:    with sink 'file' of type "File"[0m
Test [56/253] rename: Test InitialWorkDirRequirement with expression in filename.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpc4loaw1p --quiet tests/rename.cwl tests/rename-job.json
Test [57/253] initial_workdir_trailingnl: Test if trailing newline is present in file entry in InitialWorkDir

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9ustn1v2 --quiet tests/iwdr-entry.cwl tests/string-job.json
Test [58/253] inline_expressions: Test inline expressions

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpnp8d1069 --quiet tests/wc4-tool.cwl tests/wc-job.json
Test [59/253] schemadef_req_tool_param: Test SchemaDefRequirement definition used in tool parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp2q_5kp74 --quiet tests/schemadef-tool.cwl tests/schemadef-job.json
Test [60/253] schemadef_req_wf_param: Test SchemaDefRequirement definition used in workflow parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpu_5yjedm --quiet tests/schemadef-wf.cwl tests/schemadef-job.json
Test [61/253] param_evaluation_noexpr: Test parameter evaluation, no support for JS expressions

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6b9ysrxq --quiet tests/params.cwl tests/empty.json
Test [62/253] param_evaluation_expr: Test parameter evaluation, with support for JS expressions

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp2jy3rm7z --quiet tests/params2.cwl tests/empty.json
Test [63/253] metadata: Test metadata

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppomrnak4 --quiet tests/metadata.cwl tests/cat-job.json
Test [64/253] format_checking: Test simple format checking.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0b7tqlhb --quiet tests/formattest.cwl tests/formattest-job.json
Test [65/253] format_checking_subclass: Test format checking against ontology using subclassOf.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_rba128m --quiet tests/formattest2.cwl tests/formattest2-job.json
Test [66/253] format_checking_equivalentclass: Test format checking against ontology using equivalentClass.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpv6v00s7n --quiet tests/formattest3.cwl tests/formattest2-job.json
Test [67/253] output_secondaryfile_optional: Test optional output file and optional secondaryFile on output.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzk3dkwpj --quiet tests/optional-output.cwl tests/cat-job.json
Test [68/253] valuefrom_ignored_null: Test that valueFrom is ignored when the parameter is null

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpjdhgf70p --quiet tests/vf-concat.cwl tests/empty.json
Test [69/253] valuefrom_secondexpr_ignored: Test that second expression in concatenated valueFrom is not ignored

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp7lbhq1pz --quiet tests/vf-concat.cwl tests/cat-job.json
Test [70/253] valuefrom_wf_step: Test valueFrom on workflow step.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpl55ydk4_ --quiet tests/step-valuefrom-wf.cwl tests/step-valuefrom-wf.json
Test [71/253] valuefrom_wf_step_multiple: Test valueFrom on workflow step with multiple sources

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0__9d83t --quiet tests/step-valuefrom2-wf.cwl tests/step-valuefrom-job.json
Test [72/253] valuefrom_wf_step_other: Test valueFrom on workflow step referencing other inputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1i89dlpk --quiet tests/step-valuefrom3-wf.cwl tests/step-valuefrom-job.json
Test [73/253] record_output_binding: Test record type output binding.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpe9cvn68o --quiet tests/record-output.cwl tests/record-output-job.json
Test [74/253] docker_json_output_path: Test support for reading cwl.output.json when running in a Docker container and just 'path' is provided.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpvn754ckz --quiet tests/test-cwl-out.cwl tests/empty.json
Test [75/253] docker_json_output_location: Test support for reading cwl.output.json when running in a Docker container and just 'location' is provided.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1rqt5bee --quiet tests/test-cwl-out2.cwl tests/empty.json
Test [76/253] multiple_glob_expr_list: Test support for returning multiple glob patterns from expression

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpeme3cf6v --quiet tests/glob-expr-list.cwl tests/abc.json
Test [77/253] wf_scatter_oneparam_valuefrom: Test workflow scatter with single scatter parameter and two valueFrom on step input (first and current el)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp8pdihgnd --quiet tests/scatter-valuefrom-wf1.cwl tests/scatter-valuefrom-job1.json
Test [78/253] wf_scatter_twoparam_nested_crossproduct_valuefrom: Test workflow scatter with two scatter parameters and nested_crossproduct join method and valueFrom on step input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp3kpo7ywa --quiet tests/scatter-valuefrom-wf2.cwl tests/scatter-valuefrom-job2.json
Test [79/253] wf_scatter_twoparam_flat_crossproduct_valuefrom: Test workflow scatter with two scatter parameters and flat_crossproduct join method and valueFrom on step input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpv4nbcch8 --quiet tests/scatter-valuefrom-wf3.cwl#main tests/scatter-valuefrom-job2.json
Test [80/253] wf_scatter_twoparam_dotproduct_valuefrom: Test workflow scatter with two scatter parameters and dotproduct join method and valueFrom on step input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxwt6b18g --quiet tests/scatter-valuefrom-wf4.cwl#main tests/scatter-valuefrom-job2.json
Test [81/253] wf_scatter_oneparam_valuefrom_twice_current_el: Test workflow scatter with single scatter parameter and two valueFrom on step input (current el twice)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpo0b1c6ig --quiet tests/scatter-valuefrom-wf5.cwl tests/scatter-valuefrom-job1.json
Test [82/253] wf_scatter_oneparam_valueFrom: Test valueFrom eval on scattered input parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpudus_tte --quiet tests/scatter-valuefrom-wf6.cwl tests/scatter-valuefrom-job3.json
Test [83/253] wf_two_inputfiles_namecollision: Test workflow two input files with same name.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpvwof62ho --quiet tests/conflict-wf.cwl#collision tests/conflict-job.json
Test [84/253] directory_input_param_ref: Test directory input with parameter reference

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpejhdau8t --quiet tests/dir.cwl tests/dir-job.yml
Test [85/253] directory_input_docker: Test directory input in Docker

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpdy5wrpn9 --quiet tests/dir2.cwl tests/dir-job.yml
Test [86/253] directory_output: Test directory output

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpijl1rmzn --quiet tests/dir3.cwl tests/dir3-job.yml
Test [87/253] directory_secondaryfiles: Test directories in secondaryFiles

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6zi530im --quiet tests/dir4.cwl tests/dir4-job.yml
Test [88/253] dynamic_initial_workdir: Test dynamic initial work dir

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppve3gbsb --quiet tests/dir5.cwl tests/dir-job.yml
Test [89/253] writable_stagedfiles: Test writable staged files.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp457g7ie1 --quiet tests/stagefile.cwl tests/stagefile-job.yml
Test [90/253] input_file_literal: Test file literal as input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpg8zaly1j --quiet tests/cat3-tool.cwl tests/file-literal.yml
Test [91/253] initial_workdir_expr: Test expression in InitialWorkDir listing

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5r7tlhzn --quiet tests/linkfile.cwl tests/arguments-job.yml
Test [92/253] nameroot_nameext_stdout_expr: Test nameroot/nameext expression in arguments, stdout

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpu67j7v6f --quiet tests/nameroot.cwl tests/wc-job.json
Test [93/253] input_dir_inputbinding: Test directory input with inputBinding

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpht52cslx --quiet tests/dir6.cwl tests/dir-job.yml
Test [94/253] cl_gen_arrayofarrays: Test command line generation of array-of-arrays

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpwj731vpb --quiet tests/nested-array.cwl tests/nested-array-job.yml
Test [95/253] env_home_tmpdir: Test $HOME and $TMPDIR are set correctly

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp3zx9fkms --quiet tests/envvar.cwl tests/empty.json
Test [96/253] env_home_tmpdir_docker: Test $HOME and $TMPDIR are set correctly in Docker

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpmmnj4jzn --quiet tests/envvar2.cwl tests/empty.json
Test [97/253] expressionlib_tool_wf_override: Test that expressionLib requirement of individual tool step overrides expressionLib of workflow.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbkiwqxej --quiet tests/js-expr-req-wf.cwl#wf tests/empty.json
Test [98/253] initial_workdir_output: Test output of InitialWorkDir

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpkle8l6ja --quiet tests/initialworkdirrequirement-docker-out.cwl tests/initialworkdirrequirement-docker-out-job.json
Test [99/253] embedded_subworkflow: Test embedded subworkflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpawkn710u --quiet tests/count-lines10-wf.cwl tests/wc-job.json
Test [100/253] filesarray_secondaryfiles: Test required, optional and null secondaryFiles on array of files.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1jqz0yb5 --quiet tests/docker-array-secondaryfiles.cwl tests/docker-array-secondaryfiles-job.json
Test [101/253] filesarray_secondaryfiles2: Test required, optional and null secondaryFiles on array of files.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpqza99z7a --quiet tests/docker-array-secondaryfiles.cwl tests/docker-array-secondaryfiles-job2.json
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Missing required secondary file '.dat' from file object: {
    "class": "File",
    "location": "file:///conformance/cwl-v1.1-1.1.0/tests/ref.fasta",
    "size": 12010,
    "basename": "ref.fasta",
    "nameroot": "ref",
    "nameext": ".fasta",
    "secondaryFiles": [
        {
            "location": "file:///conformance/cwl-v1.1-1.1.0/tests/ref.fasta.fai",
            "basename": "ref.fasta.fai",
            "class": "File"
        }
    ]
}[0m
Test [102/253] exprtool_directory_literal: Test directory literal output created by ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppg12jwf8 --quiet tests/dir7.cwl tests/dir7.yml
Test [103/253] exprtool_file_literal: Test file literal output created by ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbmj65tty --quiet tests/file-literal-ex.cwl tests/empty.json
Test [104/253] dockeroutputdir: Test dockerOutputDirectory

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpp8h218u_ --quiet tests/docker-output-dir.cwl tests/empty.json
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow or tool uses unsupported feature:
Error: feature DockerRequirement.dockerOutputDirectory is not supported[0m
Test [105/253] hints_import: Test hints with $import

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppvhsu69b --quiet tests/imported-hint.cwl tests/empty.json
Test [106/253] default_path_notfound_warning: Test warning instead of error when default path is not found

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_u3nhcai --quiet tests/default_path.cwl tests/default_path_job.yml
Test [107/253] inlinejs_req_expressions: Test InlineJavascriptRequirement with multiple expressions in the same tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpmmh_yahs --quiet tests/inline-js.cwl tests/empty.json
Test [108/253] input_dir_recurs_copy_writable: Test if a writable input directory is recursively copied and writable

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpk2mfx61b --quiet tests/recursive-input-directory.cwl tests/recursive-input-directory.yml
Test [109/253] null_missing_params: Test that missing parameters are null (not undefined) in expression

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp3f8ebv_h --quiet tests/null-defined.cwl tests/empty.json
Test [110/253] param_notnull_expr: Test that provided parameter is not null in expression

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1myhw16n --quiet tests/null-defined.cwl tests/cat-job.json
Test [111/253] wf_compound_doc: Test compound workflow document

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6rc7hvbq --quiet tests/revsort-packed.cwl#main tests/revsort-job.json
Test [112/253] nameroot_nameext_generated: Test that nameroot and nameext are generated from basename at execution time by the runner

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpkcxt1rxk --quiet tests/basename-fields-test.cwl tests/basename-fields-job.yml
Test [113/253] initialworkpath_output: Test that file path in $(inputs) for initialworkdir is in $(outdir).

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpie4i3jeu --quiet tests/initialwork-path.cwl tests/wc-job.json
Test [114/253] wf_scatter_twopar_oneinput_flattenedmerge: Test single step workflow with Scatter step and two data links connected to same input, flattened merge behavior. Workflow inputs are set as list

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpaf1tvos8 --quiet tests/count-lines12-wf.cwl tests/count-lines6-job.json
Test [115/253] wf_multiplesources_multipletypes: Test step input with multiple sources with multiple types

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpv6z0ky5a --quiet tests/sum-wf.cwl tests/sum-job.json
Test [116/253] shelldir_notinterpreted: Test that shell directives are not interpreted.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbgkoirgt --quiet tests/shellchar.cwl tests/empty.json
Test [117/253] shelldir_quoted: Test that shell directives are quoted.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpd1ae49b8 --quiet tests/shellchar2.cwl tests/empty.json
Test [118/253] initial_workdir_empty_writable: Test empty writable dir with InitialWorkDirRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1m4ywt3i --quiet tests/writable-dir.cwl tests/empty.json
Test [119/253] initial_workdir_empty_writable_docker: Test empty writable dir with InitialWorkDirRequirement inside Docker

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpw6oxqgbs --quiet tests/writable-dir-docker.cwl tests/empty.json
Test [120/253] dynamic_resreq_inputs: Test dynamic resource reqs referencing inputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmplp51tsdp --quiet tests/dynresreq.cwl tests/dynresreq-job.yaml
Test [121/253] fileliteral_input_docker: Test file literal as input without Docker

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpy8p4vkr6 --quiet tests/cat3-nodocker.cwl tests/file-literal.yml
Test [122/253] outputbinding_glob_sorted: Test that OutputBinding.glob is sorted as specified by POSIX

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9n3ezl2a --quiet tests/glob_test.cwl tests/empty.json
Test [123/253] initialworkdir_nesteddir: Test InitialWorkDirRequirement with a nested directory structure from another step

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpqba6ek63 --quiet tests/iwdr_with_nested_dirs.cwl tests/empty.json
Test [124/253] booleanflags_cl_noinputbinding: Test that boolean flags do not appear on command line if inputBinding is empty and not null

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp50wloaec --quiet tests/bool-empty-inputbinding.cwl tests/bool-empty-inputbinding-job.json
Test [125/253] expr_reference_self_noinput: Test that expression engine does not fail to evaluate reference to self with unprovided input

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp94ef0w8h --quiet tests/stage-unprovided-file.cwl tests/empty.json
Test [126/253] success_codes: Test successCodes

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpu4fp7_48 --quiet tests/exit-success.cwl tests/empty.json
Test [127/253] dynamic_resreq_wf: Test simple workflow with a dynamic resource requirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpvguhyhri --quiet tests/dynresreq-workflow.cwl tests/dynresreq-job.yaml
Test [128/253] cl_empty_array_input: Test that empty array input does not add anything to command line

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpifmebu3y --quiet tests/empty-array-input.cwl tests/empty-array-job.json
Test [129/253] resreq_step_overrides_wf: Test that ResourceRequirement on a step level redefines requirement on the workflow level

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp54vg0_5x --quiet tests/steplevel-resreq.cwl tests/empty.json
Test [130/253] valuefrom_constant_overrides_inputs: Test valueFrom with constant value overriding provided array inputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmplgjrceft --quiet tests/valueFrom-constant.cwl tests/array-of-strings-job.yml
Test [131/253] dynamic_resreq_filesizes: Test dynamic resource reqs referencing the size of Files inside a Directory

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpj4ycv688 --quiet tests/dynresreq-dir.cwl tests/dynresreq-dir-job.yaml
Test [132/253] wf_step_connect_undeclared_param: Test that it is not an error to connect a parameter to a workflow step, even if the parameter doesn't appear in the `run` process inputs.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5kc1wt8x --quiet tests/pass-unconnected.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/pass-unconnected.cwl:18:7: 'in2' is not an input parameter of
                                 file:///conformance/cwl-v1.1-1.1.0/tests/echo-tool.cwl, expected in[0m
Test [133/253] wf_step_access_undeclared_param: Test that parameters that don't appear in the `run` process inputs are not present in the input object used to run the tool.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpun32w9ie --quiet tests/fail-unconnected.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/fail-unconnected.cwl:18:7: 'in2' is not an input parameter of
                                 file:///conformance/cwl-v1.1-1.1.0/tests/fail-unspecified-input.cwl,
                                 expected in[0m
Syntax error in parameter reference 'inputs.in2': inputs does not contain key 'in2'.. This could be due to using Javascript code without specifying InlineJavascriptRequirement.
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/cwl_utils/expression.py", line 315, in do_eval
    return interpolate(
  File "/usr/local/lib/python3.10/site-packages/cwl_utils/expression.py", line 215, in interpolate
    e = evaluator(
  File "/usr/local/lib/python3.10/site-packages/cwl_utils/expression.py", line 164, in evaluator
    raise JavascriptException(
cwl_utils.errors.JavascriptException: Syntax error in parameter reference 'inputs.in2': inputs does not contain key 'in2'.. This could be due to using Javascript code without specifying InlineJavascriptRequirement.
[1;30mERROR[0m [31mException on step 'step1'[0m
[1;30mERROR[0m [31m[step step1] Cannot make job: tests/fail-unspecified-input.cwl:13:33: Expression evaluation error:
tests/fail-unspecified-input.cwl:13:33: Syntax error in parameter reference 'inputs.in2': inputs does not contain key 'in2'.. This could be due to using Javascript code without specifying InlineJavascriptRequirement.[0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [134/253] env_home_tmpdir_docker: Test $HOME and $TMPDIR are set correctly in Docker without using return code

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp20_dtnsw --quiet tests/envvar3.cwl tests/empty.json
Test [135/253] wf_scatter_oneparam_valuefrom_inputs: Test workflow scatter with single scatter parameter and two valueFrom using $inputs (first and current el)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_pmov_4k --quiet tests/scatter-valuefrom-inputs-wf1.cwl tests/scatter-valuefrom-job1.json
Test [136/253] packed_import_schema: SchemaDefRequirement with $import, and packed

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpnt0xk291 --quiet tests/import_schema-def_packed.cwl tests/import_schema-def_job.yml
Test [137/253] job_input_secondary_subdirs: Test specifying secondaryFiles in subdirectories of the job input document.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgm94gp6o --quiet tests/dir4.cwl tests/dir4-subdir-1-job.yml
Test [138/253] job_input_subdir_primary_and_secondary_subdirs: Test specifying secondaryFiles in same subdirectory of the job input as the primary input file.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp8z9iipr8 --quiet tests/dir4.cwl tests/dir4-subdir-2-job.yml
Test [139/253] scatter_embedded_subworkflow: Test simple scatter over an embedded subworkflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpq_rlfw82 --quiet tests/count-lines18-wf.cwl tests/count-lines3-job.json
Test [140/253] scatter_multi_input_embedded_subworkflow: Test simple multiple input scatter over an embedded subworkflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbsk7lni9 --quiet tests/count-lines14-wf.cwl tests/count-lines4-job.json
Test [141/253] workflow_embedded_subworkflow_embedded_subsubworkflow: Test twice nested subworkflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpjk3rxl1k --quiet tests/count-lines15-wf.cwl tests/wc-job.json
Test [142/253] workflow_embedded_subworkflow_with_tool_and_subsubworkflow: Test subworkflow of mixed depth with tool first

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpn1ylfda4 --quiet tests/count-lines16-wf.cwl tests/wc-job.json
Test [143/253] workflow_embedded_subworkflow_with_subsubworkflow_and_tool: Test subworkflow of mixed depth with tool after

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpmclk7_u4 --quiet tests/count-lines17-wf.cwl tests/wc-job.json
Test [144/253] workflow_records_inputs_and_outputs: Test record type inputs to and outputs from workflows.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0f_vhonc --quiet tests/record-output-wf.cwl tests/record-output-job.json
Test [145/253] workflow_integer_input: Test integer workflow input and outputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfqga669x --quiet tests/io-int-wf.cwl tests/io-int.json
Test [146/253] workflow_integer_input_optional_specified: Test optional integer workflow inputs (specified)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzf5bcpn6 --quiet tests/io-int-optional-wf.cwl tests/io-int.json
Test [147/253] workflow_integer_input_optional_unspecified: Test optional integer workflow inputs (unspecified)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpioe5yjah --quiet tests/io-int-optional-wf.cwl tests/empty.json
Test [148/253] workflow_integer_input_default_specified: Test default integer workflow inputs (specified)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphbv46uig --quiet tests/io-int-default-wf.cwl tests/io-int.json
Test [149/253] workflow_integer_input_default_unspecified: Test default integer workflow inputs (unspecified)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpavlkbw11 --quiet tests/io-int-default-wf.cwl tests/empty.json
Test [150/253] workflow_integer_input_default_and_tool_integer_input_default: Test default integer tool and workflow inputs (unspecified)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpuas74adn --quiet tests/io-int-default-tool-and-wf.cwl tests/empty.json
Test [151/253] workflow_file_input_default_unspecified: Test File input with default unspecified to workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpc2vdm2l7 --quiet tests/io-file-default-wf.cwl tests/empty.json
Test [152/253] workflow_file_input_default_specified: Test File input with default specified to workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfix70yxd --quiet tests/io-file-default-wf.cwl tests/default_path_job.yml
Test [153/253] clt_optional_union_input_file_or_files_with_array_of_one_file_provided: Test input union type or File or File array to a tool with one file in array specified.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp6nekaoku --quiet tests/io-file-or-files.cwl tests/job-input-array-one-empty-file.json
Test [154/253] clt_optional_union_input_file_or_files_with_many_files_provided: Test input union type or File or File array to a tool with a few files in array specified.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmproz8408x --quiet tests/io-file-or-files.cwl tests/job-input-array-few-files.json
Test [155/253] clt_optional_union_input_file_or_files_with_single_file_provided: Test input union type or File or File array to a tool with one file specified.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpi_8tu2nw --quiet tests/io-file-or-files.cwl tests/job-input-one-file.json
Test [156/253] clt_optional_union_input_file_or_files_with_nothing_provided: Test input union type or File or File array to a tool with null specified.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpc8a_g96f --quiet tests/io-file-or-files.cwl tests/job-input-null.json
Test [157/253] clt_any_input_with_integer_provided: Test Any parameter with integer input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfikjcfxr --quiet tests/io-any-1.cwl tests/io-any-int.json
Test [158/253] clt_any_input_with_string_provided: Test Any parameter with string input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpc5ent814 --quiet tests/io-any-1.cwl tests/io-any-string.json
Test [159/253] clt_any_input_with_file_provided: Test Any parameter with file input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpeb92zf7j --quiet tests/io-any-1.cwl tests/io-any-file.json
Test [160/253] clt_any_input_with_mixed_array_provided: Test Any parameter with array input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzoqjnb3s --quiet tests/io-any-1.cwl tests/io-any-array.json
Test [161/253] clt_any_input_with_record_provided: Test Any parameter with record input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpp7sa8qs6 --quiet tests/io-any-1.cwl tests/io-any-record.json
Test [162/253] workflow_any_input_with_integer_provided: Test Any parameter with integer input to a workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4visguzc --quiet tests/io-any-wf-1.cwl tests/io-any-int.json
Test [163/253] workflow_any_input_with_string_provided: Test Any parameter with string input to a workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp79p0d9mp --quiet tests/io-any-wf-1.cwl tests/io-any-string.json
Test [164/253] workflow_any_input_with_file_provided: Test Any parameter with file input to a workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptlho19t8 --quiet tests/io-any-wf-1.cwl tests/io-any-file.json
Test [165/253] workflow_any_input_with_mixed_array_provided: Test Any parameter with array input to a workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpetej_k1j --quiet tests/io-any-wf-1.cwl tests/io-any-array.json
Test [166/253] workflow_any_input_with_record_provided: Test Any parameter with record input to a tool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmprk_kdhik --quiet tests/io-any-wf-1.cwl tests/io-any-record.json
Test [167/253] workflow_union_default_input_unspecified: Test union type input to workflow with default unspecified

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1x34g5mm --quiet tests/io-union-input-default-wf.cwl tests/empty.json
Test [168/253] workflow_union_default_input_with_file_provided: Test union type input to workflow with default specified as file

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0f6m44yu --quiet tests/io-union-input-default-wf.cwl tests/io-any-file.json
Test [169/253] workflowstep_valuefrom_string: Test valueFrom on workflow step from literal (string).

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpv7b2th68 --quiet tests/step-valuefrom4-wf.cwl tests/empty.json
Test [170/253] workflowstep_valuefrom_file_basename: Test valueFrom on workflow step using basename.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp64698znn --quiet tests/step-valuefrom5-wf.cwl tests/wc-job.json
Test [171/253] expression_tool_int_array_output: Test output arrays in a tool (with ints).

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_u7lqnxt --quiet tests/output-arrays-int.cwl tests/output-arrays-int-job.json
Test [172/253] workflowstep_int_array_input_output: Test output arrays in a workflow (with ints).

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9z0i9iad --quiet tests/output-arrays-int-wf.cwl tests/output-arrays-int-job.json
Test [173/253] workflow_file_array_output: Test output arrays in a workflow (with Files).

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptrehc9c2 --quiet tests/output-arrays-file-wf.cwl tests/output-arrays-file-job.json
Test [174/253] docker_entrypoint: Test Docker ENTRYPOINT usage

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpa2agsdei --quiet tests/docker-run-cmd.cwl tests/empty.json
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
("Error collecting output for parameter 'cow': tests/docker-run-cmd.cwl:11:7: Did not find output
                                                                              file with glob
                                                                              pattern: ['cow'].",
                                                                              {})[0m
Test 174 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpa2agsdei --quiet tests/docker-run-cmd.cwl tests/empty.json
Test Docker ENTRYPOINT usage
Returned non-zero
Test [175/253] clt_file_size_property_with_empty_file: Test use of size in expressions for an empty file

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4lbtwrh4 --quiet tests/size-expression-tool.cwl tests/job-input-array-one-empty-file.json
Test [176/253] clt_file_size_property_with_multi_file: Test use of size in expressions for a few files

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpziprihhp --quiet tests/size-expression-tool.cwl tests/job-input-array-few-files.json
Test [177/253] any_without_defaults_unspecified_fails: Test Any without defaults, unspecified, should fail.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpz9mtylqj --quiet tests/echo-tool.cwl tests/null-expression-echo-job.json
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Invalid job input record:
tests/echo-tool.cwl:6:3: Missing required input parameter 'in'[0m
Test [178/253] any_without_defaults_specified_fails: Test Any without defaults, specified, should fail.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpjuqeatl0 --quiet tests/echo-tool.cwl tests/null-expression1-job.json
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Invalid job input record:
tests/echo-tool.cwl:6:3: Missing required input parameter 'in'[0m
Test [179/253] step_input_default_value_noexp: Test default value on step input parameter, no ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpk29973pd --quiet tests/count-lines9-wf-noET.cwl tests/empty.json
Test [180/253] step_input_default_value_overriden_noexp: Test default value on step input parameter overridden by provided source, no ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp67kzoqaf --quiet tests/count-lines11-wf-noET.cwl tests/cat-job.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-wf-noET.cwl:6:3:  Source 'file1' of type ["null", "File"] may be incompatible
tests/count-lines11-wf-noET.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [181/253] nested_workflow_noexp: Test nested workflow, without ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpg0p_ys2_ --quiet tests/count-lines8-wf-noET.cwl tests/wc-job.json
Test [182/253] wf_multiplesources_multipletypes_noexp: Test step input with multiple sources with multiple types, without ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_b6fk02z --quiet tests/sum-wf-noET.cwl tests/sum-job.json
Test [183/253] dynamic_resreq_wf_optional_file_default: Within a workflow, test accessing the size attribute of an optional input File as part of a CommandLineTool's ResourceRequirement calculation. The CommandLineTool input has a default value (a local file) and the workflow nor the workflow step does not provide any value for this input.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphquu3xmb --quiet tests/dynresreq-workflow-tooldefault.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/dynresreq-workflow-tooldefault.cwl:6:3:  Source 'special_file' of type ["null", "File"] may
                                               be incompatible
tests/dynresreq-workflow-tooldefault.cwl:15:7:   with sink 'special_file' of type "File"[0m
Test [184/253] dynamic_resreq_wf_optional_file_step_default: Within a workflow, test accessing the size attribute of an optional input File as part of a CommandLineTool's ResourceRequirement calculation. The workflow step provides a default value (a local file) for this input and the workflow itself does not provide any value for this input.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmppy6clrm1 --quiet tests/dynresreq-workflow-stepdefault.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/dynresreq-workflow-stepdefault.cwl:6:3:  Source 'special_file' of type ["null", "File"] may
                                               be incompatible
tests/dynresreq-workflow-stepdefault.cwl:15:7:   with sink 'special_file' of type "File"[0m
Test [185/253] dynamic_resreq_wf_optional_file_wf_default: Within a workflow, test accessing the size attribute of an optional input File as part of a CommandLineTool's ResourceRequirement calculation. The workflow itelf provides a default value (a local file) for this input.

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpd9n5gc_s --quiet tests/dynresreq-workflow-inputdefault.cwl tests/empty.json
Test [186/253] step_input_default_value_overriden_2nd_step: Test default value on step input parameter overridden by provided source. With passthrough first step

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp8uy8dli4 --quiet tests/count-lines11-extra-step-wf.cwl tests/cat-job.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-extra-step-wf.cwl:6:3:  Source 'file1' of type ["null", "File"] may be
                                            incompatible
tests/count-lines11-extra-step-wf.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [187/253] step_input_default_value_overriden_2nd_step_noexp: Test default value on step input parameter overridden by provided source. With passthrough first step and no ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpyct5j68t --quiet tests/count-lines11-extra-step-wf-noET.cwl tests/cat-job.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/count-lines11-extra-step-wf-noET.cwl:6:3:  Source 'file1' of type ["null", "File"] may be
                                                 incompatible
tests/count-lines11-extra-step-wf-noET.cwl:17:7:   with sink 'file1' of type "File"[0m
Test [188/253] step_input_default_value_overriden_2nd_step_null: Test default value on step input parameter overridden by provided source. With null producing first step

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpftacesdm --quiet tests/count-lines11-null-step-wf.cwl tests/empty.json
Test [189/253] step_input_default_value_overriden_2nd_step_null_noexp: Test default value on step input parameter overridden by provided source. With null producing first step and no ExpressionTool

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpjkyl9xcr --quiet tests/count-lines11-null-step-wf-noET.cwl tests/empty.json
Test [190/253] stdin_from_directory_literal_with_local_file: Pipe to stdin from user provided local File via a Directory literal

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpvprtj3an --quiet tests/cat-from-dir.cwl tests/cat-from-dir-job.yaml
Test [191/253] stdin_from_directory_literal_with_literal_file: Pipe to stdin from literal File via a Directory literal

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5nrcy3kn --quiet tests/cat-from-dir.cwl tests/cat-from-dir-with-literal-file.yaml
Test [192/253] directory_literal_with_literal_file_nostdin: Test non-stdin reference to literal File via a Directory literal

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpa1wi2r8n --quiet tests/cat3-from-dir.cwl tests/cat-from-dir-with-literal-file.yaml
Test [193/253] no_inputs_commandlinetool: Test CommandLineTool without inputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpb5njzni_ --quiet tests/no-inputs-tool.cwl
Test [194/253] no_outputs_commandlinetool: Test CommandLineTool without outputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0dumuf_m --quiet tests/no-outputs-tool.cwl tests/cat-job.json
Test [195/253] no_inputs_workflow: Test Workflow without inputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpueafx4q_ --quiet tests/no-inputs-wf.cwl
Test [196/253] no_outputs_workflow: Test Workflow without outputs

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpezpzojht --quiet tests/no-outputs-wf.cwl tests/cat-job.json
Test [197/253] anonymous_enum_in_array: Test an anonymous enum inside an array inside a record

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphxn4w4rv --quiet tests/anon_enum_inside_array.cwl tests/anon_enum_inside_array.yml
Test [198/253] schema-def_anonymous_enum_in_array: Test an anonymous enum inside an array inside a record, SchemaDefRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpu6yh0g57 --quiet tests/anon_enum_inside_array_inside_schemadef.cwl tests/anon_enum_inside_array_inside_schemadef.yml
Test [199/253] stdin_shorcut: Test command execution in with stdin and stdout redirection using stdin shortcut

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpytu5455c --quiet tests/wc-tool-shortcut.cwl tests/wc-job.json
Test 199 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpytu5455c --quiet tests/wc-tool-shortcut.cwl tests/wc-job.json
Test command execution in with stdin and stdout redirection using stdin shortcut
Compare failure expected: {
    "output": {
        "checksum": "sha1$2936abd60952276ffbf91d709b19c6c48c263947",
        "class": "File",
        "location": "output",
        "size": 24
    }
}
got: {
    "output": {
        "basename": "output",
        "checksum": "sha1$631bfbac524e2d04cdcc5ec33ade827fc10b06ae",
        "class": "File",
        "location": "file:///output/tmpytu5455c/output",
        "path": "/output/tmpytu5455c/output",
        "size": 15
    }
}
caused by: failed comparison for key 'output': expected: {
    "checksum": "sha1$2936abd60952276ffbf91d709b19c6c48c263947",
    "class": "File",
    "location": "output",
    "size": 24
}
got: {
    "basename": "output",
    "checksum": "sha1$631bfbac524e2d04cdcc5ec33ade827fc10b06ae",
    "class": "File",
    "location": "file:///output/tmpytu5455c/output",
    "path": "/output/tmpytu5455c/output",
    "size": 15
}
caused by: Output file checksums do not match: actual 'sha1$631bfbac524e2d04cdcc5ec33ade827fc10b06ae' is not equal to expected 'sha1$2936abd60952276ffbf91d709b19c6c48c263947'
Test [200/253] secondary_files_in_unnamed_records: Test secondaryFiles on anonymous record fields

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp9q_vzp24 --quiet tests/record-in-secondaryFiles.cwl tests/record-secondaryFiles-job.yml
Test [201/253] secondary_files_in_named_records: Test secondaryFiles on SchemaDefRequirement record fields

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmprh8w7l_i --quiet tests/record-sd-secondaryFiles.cwl tests/record-secondaryFiles-job.yml
Test [202/253] secondary_files_in_output_records: Test secondaryFiles on output record fields

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpul0oaz2r --quiet tests/record-out-secondaryFiles.cwl tests/empty.json
Test [203/253] secondary_files_workflow_propagation: Test secondaryFiles propagation through workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpwt_dsl36 --quiet tests/record-in-secondaryFiles-wf.cwl tests/record-secondaryFiles-job.yml
Test [204/253] secondary_files_missing: Test checking when secondaryFiles are missing

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpng28fi17 --quiet tests/record-in-secondaryFiles-missing-wf.cwl tests/record-secondaryFiles-job.yml
[1;30mERROR[0m [31mException on step 'step1'[0m
[1;30mERROR[0m [31m[step step1] Cannot make job: tests/record-in-secondaryFiles.cwl:10:11: Missing required secondary file 'A.s2' from file object: {
tests/record-in-secondaryFiles.cwl:10:11:     "class": "File",
tests/record-in-secondaryFiles.cwl:10:11:     "location": "file:///conformance/cwl-v1.1-1.1.0/tests/rec/A",
tests/record-in-secondaryFiles.cwl:10:11:     "size": 0,
tests/record-in-secondaryFiles.cwl:10:11:     "basename": "A",
tests/record-in-secondaryFiles.cwl:10:11:     "nameroot": "A",
tests/record-in-secondaryFiles.cwl:10:11:     "nameext": "",
tests/record-in-secondaryFiles.cwl:10:11:     "secondaryFiles": []
tests/record-in-secondaryFiles.cwl:10:11: }[0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
Test [205/253] input_records_file_entry_with_format: Test format on anonymous record fields

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5kxq2xah --quiet tests/record-in-format.cwl tests/record-format-job.yml
Test [206/253] input_records_file_entry_with_format_and_bad_regular_input_file_format: Test file format checking on parameter

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp3mdvjz30 --quiet tests/record-in-format.cwl tests/record-format-job2.yml
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Expected value of 'regular_input' to have format 'http://example.com/format1' but
 File has an incompatible format: {
    "class": "File",
    "location": "file:///conformance/cwl-v1.1-1.1.0/tests/rec/D",
    "format": "http://example.com/formatZ",
    "size": 0,
    "basename": "D",
    "nameroot": "D",
    "nameext": ""
}[0m
Test [207/253] input_records_file_entry_with_format_and_bad_entry_file_format: Test file format checking on record field

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpt2mzmm9j --quiet tests/record-in-format.cwl tests/record-format-job3.yml
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Expected value of 'f1' to have format 'http://example.com/format1' but
 File has an incompatible format: {
    "class": "File",
    "location": "file:///conformance/cwl-v1.1-1.1.0/tests/rec/A",
    "format": "http://example.com/formatZ",
    "size": 0,
    "basename": "A",
    "nameroot": "A",
    "nameext": ""
}[0m
Test [208/253] input_records_file_entry_with_format_and_bad_entry_array_file_format: Test file format checking on array item

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptqzxu789 --quiet tests/record-in-format.cwl tests/record-format-job4.yml
[1;30mERROR[0m [31mUnhandled error, try again with --debug for more information:
  'name'[0m
Test [209/253] record_output_file_entry_format: Test format on output record fields

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_mrr5qtn --quiet tests/record-out-format.cwl tests/record-secondaryFiles-job.yml
Test [210/253] workflow_input_inputBinding_loadContents: Test WorkflowInputParameter.inputBinding.loadContents

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpiqcprzx5 --quiet tests/wf-loadContents.cwl tests/wf-loadContents-job.yml
Test [211/253] workflow_input_loadContents_without_inputBinding: Test WorkflowInputParameter.loadContents

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp0p8cbfff --quiet tests/wf-loadContents2.cwl tests/wf-loadContents-job.yml
Test [212/253] expression_tool_input_loadContents: Test loadContents on InputParameter.loadContents (expression)

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp4dje5qvr --quiet tests/wf-loadContents3.cwl tests/wf-loadContents-job.yml
Test [213/253] workflow_step_in_loadContents: Test WorkflowStepInput.loadContents

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp51mr98d1 --quiet tests/wf-loadContents4.cwl tests/wf-loadContents-job.yml
Test [214/253] timelimit_basic: Test that job fails when exceeding time limit

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphdozde4v --quiet tests/timelimit.cwl tests/empty.json
Test 214 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphdozde4v --quiet tests/timelimit.cwl tests/empty.json
Test that job fails when exceeding time limit
Returned zero but it should be non-zero
Test [215/253] timelimit_invalid: Test invalid time limit value

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp13mjmb65 --quiet tests/timelimit2.cwl tests/empty.json
[1;30mERROR[0m [31mInput object failed validation:
tests/timelimit2.cwl:7:5: timelimit must be an integer >= 0, got: -1[0m
Test [216/253] timelimit_zero_unlimited: Test zero timelimit means no limit

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpqrrindav --quiet tests/timelimit3.cwl tests/empty.json
Test [217/253] timelimit_from_expression: Test expression in time limit

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphye0zvx1 --quiet tests/timelimit4.cwl tests/empty.json
Test 217 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphye0zvx1 --quiet tests/timelimit4.cwl tests/empty.json
Test expression in time limit
Returned zero but it should be non-zero
Test [218/253] timelimit_expressiontool: Test timelimit in expressiontool is ignored

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpgsdzl4uo --quiet tests/timelimit5.cwl tests/empty.json
Test [219/253] timelimit_basic_wf: Test that tool in workflow fails when exceeding time limit

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpn3ps7t2k --quiet tests/timelimit-wf.cwl tests/empty.json
[1;30mERROR[0m [31mTool definition failed validation:
tests/timelimit-wf.cwl:2:1:     Object 'tests/timelimit-wf.cwl' is not valid because
                                tried 'Workflow' but
tests/timelimit-wf.cwl:18:1:       the 'steps' field is not valid because
                                    tried array of <WorkflowStep> but
tests/timelimit-wf.cwl:19:3:           item is invalid because
tests/timelimit-wf.cwl:23:5:             the 'run' field is not valid because
tests/timelimit-wf.cwl:29:7:               the 'outputs' field is not valid because
tests/timelimit-wf.cwl:30:9:                 item is invalid because
tests/timelimit-wf.cwl:32:11:                 the 'outputBinding' field is not valid because
                                                tried CommandOutputBinding but
tests/timelimit-wf.cwl:33:13:                     the 'outputEval' field is not valid because
                                                    tried Expression but
                                                      value 'time passed' does not contain an
                                                      expression in the form $() or ${}[0m
Test [220/253] timelimit_invalid_wf: Test that workflow level time limit is not applied to workflow execution time

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmprzzm1m36 --quiet tests/timelimit2-wf.cwl tests/empty.json
Test [221/253] timelimit_zero_unlimited_wf: Test zero timelimit means no limit in workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpy80obbje --quiet tests/timelimit3-wf.cwl tests/empty.json
Test [222/253] timelimit_from_expression_wf: Test expression in time limit in workflow

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpx5mzbgcx --quiet tests/timelimit4-wf.cwl tests/empty.json
[1;30mERROR[0m [31mTool definition failed validation:
tests/timelimit4-wf.cwl:2:1:     Object 'tests/timelimit4-wf.cwl' is not valid because
                                 tried 'Workflow' but
tests/timelimit4-wf.cwl:21:1:       the 'steps' field is not valid because
                                     tried array of <WorkflowStep> but
tests/timelimit4-wf.cwl:22:3:           item is invalid because
tests/timelimit4-wf.cwl:26:5:             the 'run' field is not valid because
tests/timelimit4-wf.cwl:32:7:               the 'outputs' field is not valid because
tests/timelimit4-wf.cwl:33:9:                 item is invalid because
tests/timelimit4-wf.cwl:35:11:                 the 'outputBinding' field is not valid because
                                                 tried CommandOutputBinding but
tests/timelimit4-wf.cwl:36:13:                     the 'outputEval' field is not valid because
                                                     tried Expression but
                                                       value 'time passed' does not contain an
                                                       expression in the form $() or ${}[0m
Test [223/253] networkaccess: Test networkaccess enabled

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmplllkwm6u --quiet tests/networkaccess.cwl tests/empty.json
Test [224/253] networkaccess_disabled: Test networkaccess is disabled by default

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpn8p4be1i --quiet tests/networkaccess2.cwl tests/empty.json
Test 224 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpn8p4be1i --quiet tests/networkaccess2.cwl tests/empty.json
Test networkaccess is disabled by default
Returned zero but it should be non-zero
Test [225/253] Test null and array input in InitialWorkDirRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmptvv8n9l9 --quiet tests/stage-array.cwl tests/stage-array-job.json
Test [226/253] Test array of directories InitialWorkDirRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpp5ufa_nb --quiet tests/stage-array-dirs.cwl tests/stage-array-dirs-job.yml
Test 226 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpp5ufa_nb --quiet tests/stage-array-dirs.cwl tests/stage-array-dirs-job.yml
Test array of directories InitialWorkDirRequirement
Compare failure expected: {
    "output": [
        {
            "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "class": "File",
            "location": "a",
            "size": 0
        },
        {
            "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "class": "File",
            "location": "B",
            "size": 0
        }
    ]
}
got: {
    "output": []
}
caused by: failed comparison for key 'output': expected: [
    {
        "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
        "class": "File",
        "location": "a",
        "size": 0
    },
    {
        "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
        "class": "File",
        "location": "B",
        "size": 0
    }
]
got: []
caused by: lengths don't match
Test [227/253] cwl_requirements_addition: Test requirements in input document via EnvVarRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmprojvqucr --quiet tests/env-tool3.cwl tests/env-job3.yaml
Test [228/253] cwl_requirements_override_expression: Test conflicting requirements in input document via EnvVarRequirement and expression

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5hk33adf --quiet tests/env-tool4.cwl tests/env-job3.yaml
Test [229/253] cwl_requirements_override_static: Test conflicting requirements in input document via EnvVarRequirement

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpo44fmq0r --quiet tests/env-tool3.cwl tests/env-job4.yaml
Test [230/253] Test output of InitialWorkDir

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp1zm_ing1 --quiet tests/initialworkdir-glob-fullpath.cwl tests/initialworkdirrequirement-docker-out-job.json
Test [231/253] Test if full paths are allowed in glob

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzed0md3s --quiet tests/initialworkdir-glob-fullpath.cwl tests/initialworkdirrequirement-docker-out-job.json
Test [232/253] Test fail trying to glob outside output directory

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzxhsrk92 --quiet tests/glob-path-error.cwl tests/empty.json
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
("Error collecting output for parameter 'OUTPUT': tests/glob-path-error.cwl:17:7: glob patterns must
                                                                                  not start with
                                                                                  '/'", {})[0m
Test [233/253] symlink to file outside of working directory should NOT be retrieved

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpyuym0a9l --quiet tests/symlink-illegal.cwl tests/empty.json
[1;30mERROR[0m [31mFound a queued exception, canceling outstanding futures[0m
[1;30mERROR[0m [31mWaiting for canceled futures to finish[0m
[1;30mERROR[0m [31mWorkflow error, try again with --debug for more information:
Error validating output record. Does not exist or is not a Directory: 'file:///output/bfoor9ha/symlink.txt'
 in {
    "output_file": {
        "location": "file:///output/bfoor9ha/symlink.txt",
        "basename": "symlink.txt",
        "nameroot": "symlink",
        "nameext": ".txt",
        "class": "Directory"
    }
}[0m
Test [234/253] symlink to file inside of working directory should be retrieved

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpykwwjres --quiet tests/symlink-legal.cwl tests/empty.json
Test [235/253] inplace update has side effect on file content

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpe2_fsrut --quiet tests/inp_update_wf.cwl tests/empty.json
[1;30mWARNING[0m [33mWorkflow checker warning:
tests/inp_update_wf.cwl:26:7: 'wait' is not an input parameter of
                              file:///conformance/cwl-v1.1-1.1.0/tests/parseInt-tool.cwl, expected
                              file1[0m
Test 235 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpe2_fsrut --quiet tests/inp_update_wf.cwl tests/empty.json
inplace update has side effect on file content
Compare failure expected: {
    "a": 4,
    "b": 4
}
got: {
    "a": 4,
    "b": null
}
caused by: failed comparison for key 'b': expected: 4
got: null
Test [236/253] inplace update has side effect on directory content

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_yumezdg --quiet tests/inpdir_update_wf.cwl tests/empty.json
Test 236 failed: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp_yumezdg --quiet tests/inpdir_update_wf.cwl tests/empty.json
inplace update has side effect on directory content
Compare failure expected: {
    "a": [
        {
            "basename": "blurb",
            "class": "File",
            "location": "blurb"
        }
    ],
    "b": [
        {
            "basename": "blurb",
            "class": "File",
            "location": "blurb"
        }
    ]
}
got: {
    "a": [
        {
            "basename": "blurb",
            "checksum": "sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "class": "File",
            "location": "file:///output/tmp_yumezdg/blurb",
            "path": "/output/tmp_yumezdg/blurb",
            "size": 0
        }
    ],
    "b": []
}
caused by: failed comparison for key 'b': expected: [
    {
        "basename": "blurb",
        "class": "File",
        "location": "blurb"
    }
]
got: []
caused by: lengths don't match
Test [237/253] outputbinding_glob_directory: Test that OutputBinding.glob accepts Directories

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfqra6tga --quiet tests/glob_directory.cwl tests/empty.json
Test [238/253] stage_file_array: Test that array of input files can be staged to directory with entryname

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpwpt7di1s --quiet tests/stage_file_array.cwl tests/stage_file_array.job.json
Test [239/253] stage_file_array: Test that array of input files can be staged to directory with basename

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpzq_ju9ef --quiet tests/stage_file_array_basename.cwl tests/stage_file_array.job.json
Test [240/253] stage_file_array: Test that if array of input files are staged to directory with basename and entryname, entryname overrides

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpg07ys8uy --quiet tests/stage_file_array_basename_and_entryname.cwl tests/stage_file_array.job.json
Test [241/253] tmpdir_is_not_outdir: Test that runtime.tmpdir is not runtime.outdir

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpi_tao9ew --quiet tests/runtime-paths-distinct.cwl tests/empty.json
Test [242/253] listing_default_none: Test that default behavior is 'no_listing' if not specified

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpbcjk109a --quiet tests/listing_none1.cwl tests/listing-job.yml
Test [243/253] listing_requirement_none: Test that 'listing' is not present when LoadListingRequirement is 'no_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpsmoubabt --quiet tests/listing_none2.cwl tests/listing-job.yml
Test [244/253] listing_loadListing_none: Test that 'listing' is not present when loadListing on input parameter is 'no_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmp5o9lj84k --quiet tests/listing_none3.cwl tests/listing-job.yml
Test [245/253] listing_requirement_shallow: Test that 'listing' is present in top directory object but not subdirectory object when LoadListingRequirement is 'shallow_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpr01qwigo --quiet tests/listing_shallow1.cwl tests/listing-job.yml
Test [246/253] listing_loadListing_shallow: Test that 'listing' is present in top directory object but not subdirectory object when loadListing on input parameter loadListing is 'shallow_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpi0z48n3e --quiet tests/listing_shallow2.cwl tests/listing-job.yml
Test [247/253] listing_requirement_deep: Test that 'listing' is present in top directory object and in subdirectory objects when LoadListingRequirement is 'deep_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpiizu5abh --quiet tests/listing_deep1.cwl tests/listing-job.yml
Test [248/253] listing_loadListing_deep: Test that 'listing' is present in top directory object and in subdirectory objects when input parameter loadListing is 'deep_listing'

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpxukyexcr --quiet tests/listing_deep2.cwl tests/listing-job.yml
Test [249/253] inputBinding_position_expr: Test for expression in the InputBinding.position field; also test using emoji in CWL document and tool output

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpfjow8gaa --quiet tests/echo-position-expr.cwl tests/echo-position-expr-job.yml
Test [250/253] outputEval_exitCode: Can access exit code in outputEval

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpl0xanvht --quiet tests/exitcode.cwl tests/empty.json
Test [251/253] any_input_param_graph_no_default: Test use of $graph without specifying which process to run

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmphmtznwyx --quiet tests/echo-tool-packed.cwl tests/env-job.json
Test [252/253] any_input_param_graph_no_default_hashmain: Test use of $graph without specifying which process to run, hash-prefixed "main"

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpglo02o6c --quiet tests/echo-tool-packed2.cwl tests/env-job.json
Test [253/253] optional_numerical_output_returns_0_not_null: Test that optional number output is returned as 0, not null

Running: calrissian --max-ram 8G --max-cores 4 --default-container debian:stretch-slim --outdir=/output/tmpj8p5vdjd --quiet tests/optional-numerical-output-0.cwl tests/empty.json
244 tests passed, 8 failures, 1 unsupported features
